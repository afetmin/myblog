{"version":3,"sources":["webpack:///./src/pages/Economy.vue?523c","webpack:///./node_modules/echarts/lib/chart/bar/BarSeries.js","webpack:///./node_modules/echarts/lib/component/toolbox/featureManager.js","webpack:///./node_modules/echarts/lib/component/dataZoom/dataZoomProcessor.js","webpack:///./node_modules/echarts/lib/chart/bar/BaseBarSeries.js","webpack:///./node_modules/echarts/lib/component/dataZoom/DataZoomModel.js","webpack:///./node_modules/echarts/lib/component/dataZoom/SelectZoomModel.js","webpack:///./node_modules/echarts/lib/component/legend/legendAction.js","webpack:///./node_modules/echarts/lib/component/dataZoom/SelectZoomView.js","webpack:///./node_modules/echarts/lib/component/toolbox/feature/SaveAsImage.js","webpack:///./node_modules/echarts/lib/component/dataZoom/helper.js","webpack:///./node_modules/echarts/lib/component/legend/LegendView.js","webpack:///./node_modules/echarts/lib/chart/bar/BarView.js","webpack:///./src/components/BarChart.vue?0010","webpack:///./node_modules/echarts/lib/component/dataZoom/typeDefaulter.js","webpack:///./node_modules/echarts/lib/component/dataZoom/history.js","webpack:///./node_modules/echarts/lib/component/toolbox/feature/DataView.js","webpack:///./node_modules/echarts/lib/component/helper/listComponent.js","webpack:///./node_modules/echarts/lib/component/toolbox/feature/DataZoom.js","webpack:///./node_modules/echarts/lib/component/dataZoom/DataZoomView.js","webpack:///./node_modules/echarts/lib/component/legend/LegendModel.js","webpack:///./node_modules/echarts/lib/component/toolbox/ToolboxModel.js","webpack:///./node_modules/echarts/lib/component/legend/legendFilter.js","webpack:///./src/pages/Economy.vue?7fdd","webpack:///./src/components/BarChart.vue?b45d","webpack:///src/components/BarChart.vue","webpack:///./src/components/BarChart.vue?25f1","webpack:///./src/components/BarChart.vue","webpack:///src/pages/Economy.vue","webpack:///./src/pages/Economy.vue?6100","webpack:///./src/pages/Economy.vue","webpack:///./node_modules/echarts/lib/chart/bar.js","webpack:///./node_modules/echarts/lib/component/dataZoom/dataZoomAction.js","webpack:///./node_modules/echarts/lib/component/helper/interactionMutex.js","webpack:///./node_modules/echarts/lib/component/toolbox.js","webpack:///./node_modules/echarts/lib/chart/bar/barItemStyle.js","webpack:///./node_modules/echarts/lib/component/helper/BrushTargetManager.js","webpack:///./node_modules/echarts/lib/util/shape/sausage.js","webpack:///./node_modules/echarts/lib/component/helper/cursorHelper.js","webpack:///./node_modules/echarts/lib/component/dataZoom/AxisProxy.js","webpack:///./node_modules/echarts/lib/component/legend.js","webpack:///./node_modules/echarts/lib/component/toolbox/feature/MagicType.js","webpack:///./node_modules/echarts/lib/component/toolbox/ToolboxView.js","webpack:///./node_modules/echarts/lib/component/dataZoomSelect.js","webpack:///./node_modules/echarts/lib/component/toolbox/feature/Restore.js","webpack:///./node_modules/echarts/lib/chart/bar/helper.js","webpack:///./node_modules/echarts/lib/component/helper/sliderMove.js","webpack:///./node_modules/echarts/lib/component/helper/brushHelper.js","webpack:///./node_modules/echarts/lib/component/helper/BrushController.js"],"names":["BaseBarSeries","_default","extend","type","dependencies","brushSelector","getProgressive","this","get","getProgressiveThreshold","progressiveThreshold","largeThreshold","defaultOption","clip","roundCap","showBackground","backgroundStyle","color","borderColor","borderWidth","borderType","borderRadius","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","opacity","module","exports","features","register","name","ctor","echarts","_util","createHashMap","each","registerProcessor","getTargetSeries","ecModel","seriesModelMap","eachComponent","dataZoomModel","eachTargetAxis","dimNames","axisIndex","axisProxy","getAxisProxy","getTargetSeriesModels","seriesModel","set","uid","modifyOutputEnd","overallReset","api","reset","filterData","findRepresentativeAxisProxy","percentRange","getDataPercentWindow","valueRange","getDataValueWindow","setCalculatedRange","start","end","startValue","endValue","SeriesModel","createListFromArray","getInitialData","option","getSource","useEncodeDefaulter","getMarkerPosition","value","coordSys","coordinateSystem","pt","dataToPoint","clampData","data","getData","offset","getLayout","size","offsetIndex","getBaseAxis","isHorizontal","NaN","zlevel","z","legendHoverLink","barMinHeight","barMinAngle","large","progressive","progressiveChunkMode","itemStyle","emphasis","_config","__DEV__","zrUtil","env","modelUtil","helper","AxisProxy","eachAxisDim","DataZoomModel","extendComponentModel","orient","xAxisIndex","yAxisIndex","filterMode","throttle","minSpan","maxSpan","minValueSpan","maxValueSpan","rangeMode","init","parentModel","_dataIntervalByAxis","_dataInfo","_axisProxies","textStyleModel","_autoThrottle","_rangePropMode","inputRawOption","retrieveRawOption","settledOption","mergeDefaultAndTheme","doInit","mergeOption","newOption","merge","thisOption","canvasSupported","realtime","_setDefaultThrottle","updateRangeUse","names","index","getModel","_resetTarget","_giveAxisProxies","axisProxies","axisModel","dependentModels","axis","__dzAxisProxy","autoMode","_judgeAutoMode","axisIndexName","normalizeToArray","_autoSetAxisIndex","_autoSetOrient","hasIndexSpecified","autoAxisIndex","dimName","length","singleAxis","singleAxisModel","singleAxisIndex","componentIndex","axisIndices","axisModels","i","len","push","eachSeries","_isSeriesHasAllAxesTypeOf","axisId","queryComponents","mainType","id","indexOf","dim","axisType","is","seriesAxisIndex","hasOwnProperty","globalOption","animation","animationDurationUpdate","getFirstTargetAxisModel","firstAxisModel","indices","callback","context","call","getAxisModel","setRawRange","opt","getPercentRange","getValueRange","axisDimName","key","hostedBy","getRangePropMode","slice","ret","rangePropMode","rangeModeInOption","percentSpecified","valueSpecified","legendSelectActionHandler","methodName","payload","isSelected","selectedMap","isToggleSelect","legendModel","legendData","model","isItemSelected","selected","registerAction","curry","DataZoomView","lang","featureManager","saveAsImageLang","toolbox","saveAsImage","SaveAsImage","show","icon","title","connectedBackgroundColor","excludeComponents","pixelRatio","prototype","unusable","proto","onclick","isSvg","getZr","painter","getType","url","getConnectedDataURL","backgroundColor","MouseEvent","browser","ie","edge","window","navigator","msSaveOrOpenBlob","bstr","atob","split","n","u8arr","Uint8Array","charCodeAt","blob","Blob","html","tab","open","document","write","$a","createElement","download","target","href","evt","view","defaultView","bubbles","cancelable","dispatchEvent","formatUtil","AXIS_DIMS","COORDS","isCoordSupported","coordType","createNameEach","attrs","capitalNames","map","capitalFirst","capitalAttrs","nameObj","capital","j","createLinkedNodesFinder","forEachNode","forEachEdgeType","edgeIdGetter","sourceNode","existsLink","result","nodes","records","edgeType","absorb","processSingleNode","node","isNodeAbsorded","isLinked","hasLink","edgeId","_symbol","createSymbol","graphic","_listComponent","makeBackground","layoutUtil","Group","extendComponentView","newlineDisabled","group","add","_contentGroup","_backgroundEl","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","render","isFirstRender","resetInner","itemAlign","selector","selectorPosition","renderInner","positionInfo","getBoxLayoutParams","viewportSize","width","getWidth","height","getHeight","padding","maxSize","getLayoutRect","mainRect","layoutInner","layoutRect","defaults","attr","x","y","removeAll","remove","contentGroup","legendDrawnMap","selectMode","excludeSeriesId","eachRawSeries","itemModel","dataIndex","getSeriesByName","getVisual","getDataParams","legendSymbolType","symbolType","itemGroup","_createItem","on","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","legendVisualProvider","provider","containName","idx","indexOfName","getItemVisual","newline","_createSelector","selectorGroup","createSelectorButton","selectorItem","labelText","Text","style","align","verticalAlign","dispatchAction","labelModel","emphasisLabelModel","setLabelStyle","hoverStyle","defaultText","isRectText","setHoverStyle","itemWidth","itemHeight","inactiveColor","inactiveBorderColor","symbolKeepAspect","legendModelItemStyle","itemIcon","tooltipModel","legendGlobalTooltipModel","legendSymbol","setSymbolStyle","legendSymbolCenter","textX","textAlign","formatter","content","replace","setTextStyle","text","textFill","getTextColor","textVerticalAlign","hitRect","Rect","shape","getBoundingRect","invisible","tooltip","formatterParams","componentType","legendIndex","$vars","eachChild","child","silent","__legendDataIndex","box","contentRect","contentPos","selectorRect","selectorPos","selectorButtonGap","orientIdx","getOrient","wh","hw","yx","Math","max","min","symbol","getItemStyle","stroke","setStyle","seriesName","dataName","el","storage","getDisplayList","useHoverLayer","_helper","setLabel","Model","barItemStyle","Path","_throttle","_createClipPathFromCoordSys","createClipPath","Sausage","BAR_BORDER_WIDTH_QUERY","_eventPos","getClipArea","coord","coordSysClipArea","getArea","baseAxis","onBand","expandWidth","extendChartView","_updateDrawMode","coordinateSystemType","_isLargeDraw","_renderLarge","_renderNormal","incrementalPrepareRender","_clear","incrementalRender","params","_incrementalRenderLarge","isLargeDraw","pipelineContext","isHorizontalOrRadial","oldData","_data","animationModel","isAnimationEnabled","needsClip","removeClipPath","drawBackground","backgroundModel","barBorderRadius","bgEls","oldBgEls","_backgroundEls","createBackground","bgLayout","bgEl","createBackgroundEl","useStyle","getBarItemStyle","setShape","diff","getItemModel","layout","hasValue","isClipped","elementCreator","setItemGraphicEl","updateStyle","update","newIndex","oldIndex","createBackgroundShape","updateProps","getItemGraphicEl","removeRect","removeSector","execute","bgGroup","_backgroundGroup","createLarge","clipPath","setClipPath","_removeBackground","dispose","noop","eachItemGraphicEl","mathMax","mathMin","cartesian2d","coordSysBoundingRect","signWidth","signHeight","x2","y2","clipped","polar","signR","r0","r","isUpdate","rect","z2","rectShape","animateProperty","animateTarget","isRadial","clockwise","startAngle","endAngle","ShapeClass","Sector","sector","sectorShape","parent","getItemLayout","fixedLineWidth","getLineWidth","signX","signY","cx","cy","isZeroOnPolar","isPolar","itemStyleModel","fill","cursorStyle","getShallow","labelPositionOutside","rawLayout","lineWidth","isNaN","Number","MAX_VALUE","abs","LargePath","points","buildPath","ctx","startPoint","__startPoint","baseDimIdx","__baseDimIdx","moveTo","lineTo","incremental","largeDataIndices","barWidth","backgroundStartPoint","__largeDataIndices","__barWidth","setLargeBackgroundStyle","setLargeStyle","seriesIndex","largePathUpdateDataIndex","event","largePath","largePathFindDataIndex","offsetX","offsetY","valueDimIdx","barWidthHalf","startValueVal","pointerBaseVal","pointerValueVal","baseLowerBound","baseUpperBound","ii","barBaseVal","barValueVal","coordLayout","grid","getRect","PI","ElementClz","Component","registerSubTypeDefaulter","ATTR","newSnapshot","store","giveStore","batchItem","dataZoomId","snapshot","subType","pop","head","clear","count","eventTool","dataViewLang","dataView","BLOCK_SPLITER","Array","join","ITEM_SPLITER","groupSeries","seriesGroupByCategoryAxis","otherSeries","meta","categoryAxis","valueAxis","getOtherAxis","series","axisDim","other","assembleSeriesWithCategoryAxis","tables","valueAxisDim","headers","concat","columns","getCategories","rawData","getRawData","mapArray","mapDimension","val","lines","items","assembleOtherSeries","vals","dimensions","argLen","arguments","getName","getContentFromModel","filter","str","trim","isTSVFormat","block","firstLine","itemSplitRegex","RegExp","parseTSVContents","tsv","tsvLines","shift","categories","header","parseListContents","line","hasName","parseContents","blockMetaList","blocks","blockMeta","axisKey","DataView","_dom","tryMergeDataOption","newData","originalData","newVal","original","isObject","isArray","newValIsObject","shouldDeleteName","readOnly","optionToContent","contentToOption","clone","textColor","textareaColor","textareaBorderColor","buttonColor","buttonTextColor","container","getDom","removeChild","root","cssText","innerHTML","viewMain","textarea","htmlOrDom","getOption","isDom","appendChild","buttonContainer","buttonStyle","closeButton","refreshButton","self","close","addEventListener","e","Error","clientHeight","newSeriesOptList","seriesOpt","_layout","layoutBox","positionElement","componentModel","boxLayoutParams","normalizeCssArray","BrushController","BrushTargetManager","history","sliderMove","dataZoomLang","dataZoom","DATA_ZOOM_ID_BASE","DataZoom","_brushController","bind","_onBrush","mount","_isZoomActive","zoom","back","brushStyle","featureModel","updateZoomBtnStatus","updateBackBtnStatus","handlers","unmount","nextActive","dataZoomSelectActive","_dispatchZoomAction","retrieveAxisSetting","setting","setIconStatus","zoomActive","brushTargetManager","include","setPanels","makePanelOpts","targetInfo","xAxisDeclared","yAxisDeclared","enableBrush","brushType","areas","isEnd","updateCovers","matchOutputRanges","area","coordRange","setBatch","lineX","lineY","minMax","getAxis","findDataZoom","minMaxSpan","getMinMaxSpan","scale","getExtent","found","dzModel","has","batch","from","registerPreprocessor","dataZoomOpts","toolboxOpt","feature","dataZoomOpt","addForAxis","axisName","axisIndicesName","givenAxisIndices","forEachComponent","axisOpt","newOpt","$fromToolbox","cb","opts","ComponentView","getTargetCoordInfo","coordSysLists","save","coordModel","coordIndex","item","getComponent","getCoordSysModel","_model","isNameSpecified","langSelector","legend","defaultSelectorOption","all","inverse","LegendModel","layoutMode","ignoreSize","_updateSelector","superCall","isString","optionUpdated","_updateData","hasSelected","select","potentialData","availableNames","isPotential","getAllNames","isSeriesFiltered","_availableNames","dataItem","selectedMode","unSelect","toggleSelected","allSelect","inverseSelect","left","top","itemGap","textStyle","selectorLabel","fontSize","fontFamily","selectorItemGap","ToolboxModel","superApply","featureOpt","featureName","Feature","itemSize","showTitle","iconStyle","legendModels","findComponents","filterSeries","_vm","_h","$createElement","_c","_self","staticClass","option1","staticRenderFns","components","props","options","Object","component","Header","BarChart","trigger","axisPointer","crossStyle","magicType","restore","xAxis","yAxis","created","mounted","methods","_barGrid","largeLayout","registerLayout","PRIORITY","VISUAL","LAYOUT","PROGRESSIVE_LAYOUT","registerVisual","seriesType","setVisual","linkedNodesFinder","effectedModels","query","apply","take","zr","resourceKey","userKey","getStore","release","uKey","isTaken","makeStyleMapper","excludes","getBorderLineDash","lineDash","brushHelper","COORD_CONVERTS","INCLUDE_FINDER_MAIN_TYPES","targetInfoList","_targetInfoList","info","foundCpts","parseFinder","targetInfoBuilders","builder","formatMinMax","reverse","includeMainTypes","setOutputRanges","coordRanges","coordConvert","__rangeOffset","diffProcessor","values","range","xyMinMax","findTargetInfo","coordSyses","setInputRanges","panelId","rangeOffset","getScales","getDefaultBrushType","getPanelRect","defaultBrushType","makeRectPanelClipPath","isTargetByCursor","makeRectIsTargetByCursor","coordSysModel","getLinearBrushOtherExtent","makeLinearBrushOtherExtent","controlSeries","areaPanelId","targetInfoMatchers","xAxisModels","yAxisModels","gridModels","gridModelMap","xAxesHas","yAxesHas","gridModel","cartesians","getCartesians","cartesian","panelRectBuilder","geo","geoModels","geoModel","xAxisModel","yAxisModel","applyTransform","getTransform","axisConvert","to","rangeOrCoordRange","xminymin","xmaxymax","polygon","Infinity","p","axisNameIndex","coordToData","toLocalCoord","toGlobalCoord","dataToCoord","axisDiffProcessor","refer","scales","xyMinMaxCurr","xyMinMaxOrigin","sizeCurr","getSize","sizeOrigin","_graphic","extendShape","dr","rCenter","unitStartX","cos","unitStartY","sin","unitEndX","unitEndY","lessThanCircle","arc","closePath","IRRELEVANT_EXCLUDES","onIrrelevantElement","targetCoordSysModel","getComponentByElement","topTarget","numberUtil","asc","_dimName","_axisIndex","_valueWindow","_percentWindow","_dataExtent","_minMaxSpan","_dataZoomModel","calculateDataExtent","seriesModels","dataExtent","seriesData","seriesExtent","getApproximateExtent","fixExtentByAxis","getMin","isCategoryAxis","axisDataLen","getMax","setAxisModel","isRestore","percentWindow","valueWindow","precision","getPixelPrecision","useOrigin","setRange","toFixed","setMinMaxSpan","percentSpan","valueSpan","parse","linearMap","constructor","getOtherAxisModel","otherAxisDim","coordSysIndexName","foundOtherAxisModel","isCartesian","otherAxisModel","calculateDataWindow","hasPropModeValue","percentExtent","prop","boundPercent","boundValue","spans","restrictSet","fromWindow","toWindow","fromExtent","toExtent","toValue","suffix","targetSeries","dataWindow","dataDims","filterSelf","leftOut","rightOut","thisHasValue","thisLeftOut","thisRightOut","setData","isInWindow","selectRange","setApproximateExtent","legendFilter","PROCESSOR","SERIES_FILTER","magicTypeLang","INNER_STACK_KEYWORD","MagicType","bar","stack","getIcons","availableIcons","icons","seriesOptGenreator","seriesId","markPoint","markLine","isStack","radioTypes","newTitle","generateNewSeriesTypes","newSeriesOpt","getAxesByScale","boundaryGap","radio","tiled","currentType","textContain","DataDiffer","listComponentHelper","toolboxModel","featureOpts","_features","featureNames","_featureNames","processFeature","titleText","__title","makeFont","position","needPutOnTop","textPosition","topOffset","oldName","isUserFeatureName","createIconPaths","iconName","status","iconPaths","iconStatus","iconStyleModel","iconStyleEmphasisModel","titles","iconStr","path","createIcon","textBorderRadius","textPadding","defaultTextPosition","textBackgroundColor","updateView","restoreLang","Restore","resetOption","_labelHelper","getDefaultLabel","normalStyle","hoverLabelModel","labelFetcher","labelDataIndex","autoColor","fixPosition","delta","handleEnds","extent","handleIndex","extentSpan","restrict","handleSpan","originalDistSign","getSpanSign","extentMinSpan","realExtent","sign","currDistSign","span","dist","BoundingRect","_cursorHelper","graphicUtil","normalizeRect","localPoints","transform","clipPointsByRect","specifiedXYIndex","xyIndex","brushWidth","base","targetModel","localCursorPoint","contain","create","Eventful","interactionMutex","mathPow","pow","COVER_Z","UNSELECT_THRESHOLD","MIN_RESIZE_LINE_WIDTH","MUTEX_RESOURCE_KEY","DIRECTION_MAP","w","s","CURSOR_MAP","ne","sw","nw","se","DEFAULT_BRUSH_OPT","transformable","brushMode","removeOnClick","baseUID","_zr","_brushType","_brushOption","_panels","_track","_dragging","_covers","_creatingCover","_creatingPanel","_enableGlobalPan","_uid","_handlers","pointerHandlers","handler","eventName","doEnableBrush","controller","brushOption","mountHandlers","doDisableBrush","unmountHandlers","off","createCover","cover","coverRenderers","__brushOption","updateZ","endCreating","creatingCover","coverRenderer","getCoverRenderer","updateCoverShape","traverse","updateCoverAfterCreation","updateCommon","getPanelByPoint","panel","panels","_transform","pn","getPanelByCover","clearCovers","covers","originalLength","shouldShowCover","track","p2","p1","dx","dy","getTrackEnds","tail","createBaseRectCover","doDrift","edgeNames","makeStyle","draggable","cursor","drift","ondragend","updateBaseRect","localRange","handleSize","xa","ya","x2a","y2a","widtha","heighta","updateRectShape","mainEl","childAt","childOfName","globalDir","getGlobalDirection","h","pointsToRect","clipByPanel","strokeNoScale","formatRectRange","localDirection","inverseMap","right","bottom","transformDirection","driftRect","toRectRange","fromRectRange","rectRange","localDelta","toLocalDelta","namePart","ind","driftPolygon","point","thisGroup","localD","transformCoordToLocal","localZero","xmin","ymin","xmax","ymax","resetCursor","isOutsideZrArea","currPanel","setCursorStyle","preventDefault","rawE","mainShapeContain","updateCoverByMouse","eventParams","thisBrushOption","determineBrushType","coverBrushOption","getCreatingRange","panelOpts","enableGlobalPan","rotation","getLocalTransform","eachCover","brushOptionList","tmpIdPrefix","oldCovers","newCovers","oldGetKey","getKey","addOrUpdate","newBrushOption","mixin","mousedown","handleDragEnd","mousemove","mouseup","getLineRenderer","localTrack","ends","Polyline","Polygon","otherExtent"],"mappings":"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","file":"js/chunk-4a9444a8.dd5f5f31.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Economy.vue?vue&type=style&index=0&id=aeff4bce&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Economy.vue?vue&type=style&index=0&id=aeff4bce&scoped=true&lang=css&\"","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseBarSeries = require(\"./BaseBarSeries\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = BaseBarSeries.extend({\n  type: 'series.bar',\n  dependencies: ['grid', 'polar'],\n  brushSelector: 'rect',\n\n  /**\n   * @override\n   */\n  getProgressive: function () {\n    // Do not support progressive in normal mode.\n    return this.get('large') ? this.get('progressive') : false;\n  },\n\n  /**\n   * @override\n   */\n  getProgressiveThreshold: function () {\n    // Do not support progressive in normal mode.\n    var progressiveThreshold = this.get('progressiveThreshold');\n    var largeThreshold = this.get('largeThreshold');\n\n    if (largeThreshold > progressiveThreshold) {\n      progressiveThreshold = largeThreshold;\n    }\n\n    return progressiveThreshold;\n  },\n  defaultOption: {\n    // If clipped\n    // Only available on cartesian2d\n    clip: true,\n    // If use caps on two sides of bars\n    // Only available on tangential polar bar\n    roundCap: false,\n    showBackground: false,\n    backgroundStyle: {\n      color: 'rgba(180, 180, 180, 0.2)',\n      borderColor: null,\n      borderWidth: 0,\n      borderType: 'solid',\n      borderRadius: 0,\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      opacity: 1\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar features = {};\n\nfunction register(name, ctor) {\n  features[name] = ctor;\n}\n\nfunction get(name) {\n  return features[name];\n}\n\nexports.register = register;\nexports.get = get;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar each = _util.each;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerProcessor({\n  // `dataZoomProcessor` will only be performed in needed series. Consider if\n  // there is a line series and a pie series, it is better not to update the\n  // line series if only pie series is needed to be updated.\n  getTargetSeries: function (ecModel) {\n    var seriesModelMap = createHashMap();\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      dataZoomModel.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel) {\n        var axisProxy = dataZoomModel.getAxisProxy(dimNames.name, axisIndex);\n        each(axisProxy.getTargetSeriesModels(), function (seriesModel) {\n          seriesModelMap.set(seriesModel.uid, seriesModel);\n        });\n      });\n    });\n    return seriesModelMap;\n  },\n  modifyOutputEnd: true,\n  // Consider appendData, where filter should be performed. Because data process is\n  // in block mode currently, it is not need to worry about that the overallProgress\n  // execute every frame.\n  overallReset: function (ecModel, api) {\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // We calculate window and reset axis here but not in model\n      // init stage and not after action dispatch handler, because\n      // reset should be called after seriesData.restoreData.\n      dataZoomModel.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel) {\n        dataZoomModel.getAxisProxy(dimNames.name, axisIndex).reset(dataZoomModel, api);\n      }); // Caution: data zoom filtering is order sensitive when using\n      // percent range and no min/max/scale set on axis.\n      // For example, we have dataZoom definition:\n      // [\n      //      {xAxisIndex: 0, start: 30, end: 70},\n      //      {yAxisIndex: 0, start: 20, end: 80}\n      // ]\n      // In this case, [20, 80] of y-dataZoom should be based on data\n      // that have filtered by x-dataZoom using range of [30, 70],\n      // but should not be based on full raw data. Thus sliding\n      // x-dataZoom will change both ranges of xAxis and yAxis,\n      // while sliding y-dataZoom will only change the range of yAxis.\n      // So we should filter x-axis after reset x-axis immediately,\n      // and then reset y-axis and filter y-axis.\n\n      dataZoomModel.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel) {\n        dataZoomModel.getAxisProxy(dimNames.name, axisIndex).filterData(dataZoomModel, api);\n      });\n    });\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // Fullfill all of the range props so that user\n      // is able to get them from chart.getOption().\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      var percentRange = axisProxy.getDataPercentWindow();\n      var valueRange = axisProxy.getDataValueWindow();\n      dataZoomModel.setCalculatedRange({\n        start: percentRange[0],\n        end: percentRange[1],\n        startValue: valueRange[0],\n        endValue: valueRange[1]\n      });\n    });\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.__base_bar__',\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  getMarkerPosition: function (value) {\n    var coordSys = this.coordinateSystem;\n\n    if (coordSys) {\n      // PENDING if clamp ?\n      var pt = coordSys.dataToPoint(coordSys.clampData(value));\n      var data = this.getData();\n      var offset = data.getLayout('offset');\n      var size = data.getLayout('size');\n      var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n      pt[offsetIndex] += offset + size / 2;\n      return pt;\n    }\n\n    return [NaN, NaN];\n  },\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 2,\n    // \n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // stack: null\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // 0\n    barMinHeight: 0,\n    // 0\n    barMinAngle: 0,\n    // cursor: null,\n    large: false,\n    largeThreshold: 400,\n    progressive: 3e3,\n    progressiveChunkMode: 'mod',\n    // barMaxWidth: null,\n    // In cartesian, the default value is 1. Otherwise null.\n    // barMinWidth: null,\n    // \n    // barWidth: null,\n    // 30%\n    // barGap: '30%',\n    // 20%\n    // barCategoryGap: '20%',\n    // label: {\n    //      show: false\n    // },\n    itemStyle: {},\n    emphasis: {}\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar helper = require(\"./helper\");\n\nvar AxisProxy = require(\"./AxisProxy\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar eachAxisDim = helper.eachAxisDim;\nvar DataZoomModel = echarts.extendComponentModel({\n  type: 'dataZoom',\n  dependencies: ['xAxis', 'yAxis', 'zAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series'],\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    zlevel: 0,\n    z: 4,\n    // Higher than normal component (z: 2).\n    orient: null,\n    // Default auto by axisIndex. Possible value: 'horizontal', 'vertical'.\n    xAxisIndex: null,\n    // Default the first horizontal category axis.\n    yAxisIndex: null,\n    // Default the first vertical category axis.\n    filterMode: 'filter',\n    // Possible values: 'filter' or 'empty' or 'weakFilter'.\n    // 'filter': data items which are out of window will be removed. This option is\n    //          applicable when filtering outliers. For each data item, it will be\n    //          filtered if one of the relevant dimensions is out of the window.\n    // 'weakFilter': data items which are out of window will be removed. This option\n    //          is applicable when filtering outliers. For each data item, it will be\n    //          filtered only if all  of the relevant dimensions are out of the same\n    //          side of the window.\n    // 'empty': data items which are out of window will be set to empty.\n    //          This option is applicable when user should not neglect\n    //          that there are some data items out of window.\n    // 'none': Do not filter.\n    // Taking line chart as an example, line will be broken in\n    // the filtered points when filterModel is set to 'empty', but\n    // be connected when set to 'filter'.\n    throttle: null,\n    // Dispatch action by the fixed rate, avoid frequency.\n    // default 100. Do not throttle when use null/undefined.\n    // If animation === true and animationDurationUpdate > 0,\n    // default value is 100, otherwise 20.\n    start: 0,\n    // Start percent. 0 ~ 100\n    end: 100,\n    // End percent. 0 ~ 100\n    startValue: null,\n    // Start value. If startValue specified, start is ignored.\n    endValue: null,\n    // End value. If endValue specified, end is ignored.\n    minSpan: null,\n    // 0 ~ 100\n    maxSpan: null,\n    // 0 ~ 100\n    minValueSpan: null,\n    // The range of dataZoom can not be smaller than that.\n    maxValueSpan: null,\n    // The range of dataZoom can not be larger than that.\n    rangeMode: null // Array, can be 'value' or 'percent'.\n\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * key like x_0, y_1\n     * @private\n     * @type {Object}\n     */\n    this._dataIntervalByAxis = {};\n    /**\n     * @private\n     */\n\n    this._dataInfo = {};\n    /**\n     * key like x_0, y_1\n     * @private\n     */\n\n    this._axisProxies = {};\n    /**\n     * @readOnly\n     */\n\n    this.textStyleModel;\n    /**\n     * @private\n     */\n\n    this._autoThrottle = true;\n    /**\n     * It is `[rangeModeForMin, rangeModeForMax]`.\n     * The optional values for `rangeMode`:\n     * + `'value'` mode: the axis extent will always be determined by\n     *     `dataZoom.startValue` and `dataZoom.endValue`, despite\n     *     how data like and how `axis.min` and `axis.max` are.\n     * + `'percent'` mode: `100` represents 100% of the `[dMin, dMax]`,\n     *     where `dMin` is `axis.min` if `axis.min` specified, otherwise `data.extent[0]`,\n     *     and `dMax` is `axis.max` if `axis.max` specified, otherwise `data.extent[1]`.\n     *     Axis extent will be determined by the result of the percent of `[dMin, dMax]`.\n     *\n     * For example, when users are using dynamic data (update data periodically via `setOption`),\n     * if in `'value`' mode, the window will be kept in a fixed value range despite how\n     * data are appended, while if in `'percent'` mode, whe window range will be changed alone with\n     * the appended data (suppose `axis.min` and `axis.max` are not specified).\n     *\n     * @private\n     */\n\n    this._rangePropMode = ['percent', 'percent'];\n    var inputRawOption = retrieveRawOption(option);\n    /**\n     * Suppose a \"main process\" start at the point that model prepared (that is,\n     * model initialized or merged or method called in `action`).\n     * We should keep the `main process` idempotent, that is, given a set of values\n     * on `option`, we get the same result.\n     *\n     * But sometimes, values on `option` will be updated for providing users\n     * a \"final calculated value\" (`dataZoomProcessor` will do that). Those value\n     * should not be the base/input of the `main process`.\n     *\n     * So in that case we should save and keep the input of the `main process`\n     * separately, called `settledOption`.\n     *\n     * For example, consider the case:\n     * (Step_1) brush zoom the grid by `toolbox.dataZoom`,\n     *     where the original input `option.startValue`, `option.endValue` are earsed by\n     *     calculated value.\n     * (Step)2) click the legend to hide and show a series,\n     *     where the new range is calculated by the earsed `startValue` and `endValue`,\n     *     which brings incorrect result.\n     *\n     * @readOnly\n     */\n\n    this.settledOption = inputRawOption;\n    this.mergeDefaultAndTheme(option, ecModel);\n    this.doInit(inputRawOption);\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (newOption) {\n    var inputRawOption = retrieveRawOption(newOption); //FIX #2591\n\n    zrUtil.merge(this.option, newOption, true);\n    zrUtil.merge(this.settledOption, inputRawOption, true);\n    this.doInit(inputRawOption);\n  },\n\n  /**\n   * @protected\n   */\n  doInit: function (inputRawOption) {\n    var thisOption = this.option; // Disable realtime view update if canvas is not supported.\n\n    if (!env.canvasSupported) {\n      thisOption.realtime = false;\n    }\n\n    this._setDefaultThrottle(inputRawOption);\n\n    updateRangeUse(this, inputRawOption);\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      // start/end has higher priority over startValue/endValue if they\n      // both set, but we should make chart.setOption({endValue: 1000})\n      // effective, rather than chart.setOption({endValue: 1000, end: null}).\n      if (this._rangePropMode[index] === 'value') {\n        thisOption[names[0]] = settledOption[names[0]] = null;\n      } // Otherwise do nothing and use the merge result.\n\n    }, this);\n    this.textStyleModel = this.getModel('textStyle');\n\n    this._resetTarget();\n\n    this._giveAxisProxies();\n  },\n\n  /**\n   * @private\n   */\n  _giveAxisProxies: function () {\n    var axisProxies = this._axisProxies;\n    this.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel, ecModel) {\n      var axisModel = this.dependentModels[dimNames.axis][axisIndex]; // If exists, share axisProxy with other dataZoomModels.\n\n      var axisProxy = axisModel.__dzAxisProxy || ( // Use the first dataZoomModel as the main model of axisProxy.\n      axisModel.__dzAxisProxy = new AxisProxy(dimNames.name, axisIndex, this, ecModel)); // FIXME\n      // dispose __dzAxisProxy\n\n      axisProxies[dimNames.name + '_' + axisIndex] = axisProxy;\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _resetTarget: function () {\n    var thisOption = this.option;\n\n    var autoMode = this._judgeAutoMode();\n\n    eachAxisDim(function (dimNames) {\n      var axisIndexName = dimNames.axisIndex;\n      thisOption[axisIndexName] = modelUtil.normalizeToArray(thisOption[axisIndexName]);\n    }, this);\n\n    if (autoMode === 'axisIndex') {\n      this._autoSetAxisIndex();\n    } else if (autoMode === 'orient') {\n      this._autoSetOrient();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _judgeAutoMode: function () {\n    // Auto set only works for setOption at the first time.\n    // The following is user's reponsibility. So using merged\n    // option is OK.\n    var thisOption = this.option;\n    var hasIndexSpecified = false;\n    eachAxisDim(function (dimNames) {\n      // When user set axisIndex as a empty array, we think that user specify axisIndex\n      // but do not want use auto mode. Because empty array may be encountered when\n      // some error occured.\n      if (thisOption[dimNames.axisIndex] != null) {\n        hasIndexSpecified = true;\n      }\n    }, this);\n    var orient = thisOption.orient;\n\n    if (orient == null && hasIndexSpecified) {\n      return 'orient';\n    } else if (!hasIndexSpecified) {\n      if (orient == null) {\n        thisOption.orient = 'horizontal';\n      }\n\n      return 'axisIndex';\n    }\n  },\n\n  /**\n   * @private\n   */\n  _autoSetAxisIndex: function () {\n    var autoAxisIndex = true;\n    var orient = this.get('orient', true);\n    var thisOption = this.option;\n    var dependentModels = this.dependentModels;\n\n    if (autoAxisIndex) {\n      // Find axis that parallel to dataZoom as default.\n      var dimName = orient === 'vertical' ? 'y' : 'x';\n\n      if (dependentModels[dimName + 'Axis'].length) {\n        thisOption[dimName + 'AxisIndex'] = [0];\n        autoAxisIndex = false;\n      } else {\n        each(dependentModels.singleAxis, function (singleAxisModel) {\n          if (autoAxisIndex && singleAxisModel.get('orient', true) === orient) {\n            thisOption.singleAxisIndex = [singleAxisModel.componentIndex];\n            autoAxisIndex = false;\n          }\n        });\n      }\n    }\n\n    if (autoAxisIndex) {\n      // Find the first category axis as default. (consider polar)\n      eachAxisDim(function (dimNames) {\n        if (!autoAxisIndex) {\n          return;\n        }\n\n        var axisIndices = [];\n        var axisModels = this.dependentModels[dimNames.axis];\n\n        if (axisModels.length && !axisIndices.length) {\n          for (var i = 0, len = axisModels.length; i < len; i++) {\n            if (axisModels[i].get('type') === 'category') {\n              axisIndices.push(i);\n            }\n          }\n        }\n\n        thisOption[dimNames.axisIndex] = axisIndices;\n\n        if (axisIndices.length) {\n          autoAxisIndex = false;\n        }\n      }, this);\n    }\n\n    if (autoAxisIndex) {\n      // FIXME\n      // ec2xAxisIndexyAxisIndexscatterdataZoom\n      // Grid.js#getScaleByOptiontimelogaxis type\n      // If both dataZoom.xAxisIndex and dataZoom.yAxisIndex is not specified,\n      // dataZoom component auto adopts series that reference to\n      // both xAxis and yAxis which type is 'value'.\n      this.ecModel.eachSeries(function (seriesModel) {\n        if (this._isSeriesHasAllAxesTypeOf(seriesModel, 'value')) {\n          eachAxisDim(function (dimNames) {\n            var axisIndices = thisOption[dimNames.axisIndex];\n            var axisIndex = seriesModel.get(dimNames.axisIndex);\n            var axisId = seriesModel.get(dimNames.axisId);\n            var axisModel = seriesModel.ecModel.queryComponents({\n              mainType: dimNames.axis,\n              index: axisIndex,\n              id: axisId\n            })[0];\n            axisIndex = axisModel.componentIndex;\n\n            if (zrUtil.indexOf(axisIndices, axisIndex) < 0) {\n              axisIndices.push(axisIndex);\n            }\n          });\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _autoSetOrient: function () {\n    var dim; // Find the first axis\n\n    this.eachTargetAxis(function (dimNames) {\n      !dim && (dim = dimNames.name);\n    }, this);\n    this.option.orient = dim === 'y' ? 'vertical' : 'horizontal';\n  },\n\n  /**\n   * @private\n   */\n  _isSeriesHasAllAxesTypeOf: function (seriesModel, axisType) {\n    // FIXME\n    // seriesxAxisIndexyAxisIndex\n    // series.type === scatter\n    var is = true;\n    eachAxisDim(function (dimNames) {\n      var seriesAxisIndex = seriesModel.get(dimNames.axisIndex);\n      var axisModel = this.dependentModels[dimNames.axis][seriesAxisIndex];\n\n      if (!axisModel || axisModel.get('type') !== axisType) {\n        is = false;\n      }\n    }, this);\n    return is;\n  },\n\n  /**\n   * @private\n   */\n  _setDefaultThrottle: function (inputRawOption) {\n    // When first time user set throttle, auto throttle ends.\n    if (inputRawOption.hasOwnProperty('throttle')) {\n      this._autoThrottle = false;\n    }\n\n    if (this._autoThrottle) {\n      var globalOption = this.ecModel.option;\n      this.option.throttle = globalOption.animation && globalOption.animationDurationUpdate > 0 ? 100 : 20;\n    }\n  },\n\n  /**\n   * @public\n   */\n  getFirstTargetAxisModel: function () {\n    var firstAxisModel;\n    eachAxisDim(function (dimNames) {\n      if (firstAxisModel == null) {\n        var indices = this.get(dimNames.axisIndex);\n\n        if (indices.length) {\n          firstAxisModel = this.dependentModels[dimNames.axis][indices[0]];\n        }\n      }\n    }, this);\n    return firstAxisModel;\n  },\n\n  /**\n   * @public\n   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n   */\n  eachTargetAxis: function (callback, context) {\n    var ecModel = this.ecModel;\n    eachAxisDim(function (dimNames) {\n      each(this.get(dimNames.axisIndex), function (axisIndex) {\n        callback.call(context, dimNames, axisIndex, this, ecModel);\n      }, this);\n    }, this);\n  },\n\n  /**\n   * @param {string} dimName\n   * @param {number} axisIndex\n   * @return {module:echarts/component/dataZoom/AxisProxy} If not found, return null/undefined.\n   */\n  getAxisProxy: function (dimName, axisIndex) {\n    return this._axisProxies[dimName + '_' + axisIndex];\n  },\n\n  /**\n   * @param {string} dimName\n   * @param {number} axisIndex\n   * @return {module:echarts/model/Model} If not found, return null/undefined.\n   */\n  getAxisModel: function (dimName, axisIndex) {\n    var axisProxy = this.getAxisProxy(dimName, axisIndex);\n    return axisProxy && axisProxy.getAxisModel();\n  },\n\n  /**\n   * If not specified, set to undefined.\n   *\n   * @public\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   */\n  setRawRange: function (opt) {\n    var thisOption = this.option;\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names) {\n      // Consider the pair <start, startValue>:\n      // If one has value and the other one is `null/undefined`, we both set them\n      // to `settledOption`. This strategy enables the feature to clear the original\n      // value in `settledOption` to `null/undefined`.\n      // But if both of them are `null/undefined`, we do not set them to `settledOption`\n      // and keep `settledOption` with the original value. This strategy enables users to\n      // only set <end or endValue> but not set <start or startValue> when calling\n      // `dispatchAction`.\n      // The pair <end, endValue> is treated in the same way.\n      if (opt[names[0]] != null || opt[names[1]] != null) {\n        thisOption[names[0]] = settledOption[names[0]] = opt[names[0]];\n        thisOption[names[1]] = settledOption[names[1]] = opt[names[1]];\n      }\n    }, this);\n    updateRangeUse(this, opt);\n  },\n\n  /**\n   * @public\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   */\n  setCalculatedRange: function (opt) {\n    var option = this.option;\n    each(['start', 'startValue', 'end', 'endValue'], function (name) {\n      option[name] = opt[name];\n    });\n  },\n\n  /**\n   * @public\n   * @return {Array.<number>} [startPercent, endPercent]\n   */\n  getPercentRange: function () {\n    var axisProxy = this.findRepresentativeAxisProxy();\n\n    if (axisProxy) {\n      return axisProxy.getDataPercentWindow();\n    }\n  },\n\n  /**\n   * @public\n   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n   *\n   * @param {string} [axisDimName]\n   * @param {number} [axisIndex]\n   * @return {Array.<number>} [startValue, endValue] value can only be '-' or finite number.\n   */\n  getValueRange: function (axisDimName, axisIndex) {\n    if (axisDimName == null && axisIndex == null) {\n      var axisProxy = this.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        return axisProxy.getDataValueWindow();\n      }\n    } else {\n      return this.getAxisProxy(axisDimName, axisIndex).getDataValueWindow();\n    }\n  },\n\n  /**\n   * @public\n   * @param {module:echarts/model/Model} [axisModel] If axisModel given, find axisProxy\n   *      corresponding to the axisModel\n   * @return {module:echarts/component/dataZoom/AxisProxy}\n   */\n  findRepresentativeAxisProxy: function (axisModel) {\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    } // Find the first hosted axisProxy\n\n\n    var axisProxies = this._axisProxies;\n\n    for (var key in axisProxies) {\n      if (axisProxies.hasOwnProperty(key) && axisProxies[key].hostedBy(this)) {\n        return axisProxies[key];\n      }\n    } // If no hosted axis find not hosted axisProxy.\n    // Consider this case: dataZoomModel1 and dataZoomModel2 control the same axis,\n    // and the option.start or option.end settings are different. The percentRange\n    // should follow axisProxy.\n    // (We encounter this problem in toolbox data zoom.)\n\n\n    for (var key in axisProxies) {\n      if (axisProxies.hasOwnProperty(key) && !axisProxies[key].hostedBy(this)) {\n        return axisProxies[key];\n      }\n    }\n  },\n\n  /**\n   * @return {Array.<string>}\n   */\n  getRangePropMode: function () {\n    return this._rangePropMode.slice();\n  }\n});\n/**\n * Retrieve the those raw params from option, which will be cached separately.\n * becasue they will be overwritten by normalized/calculated values in the main\n * process.\n */\n\nfunction retrieveRawOption(option) {\n  var ret = {};\n  each(['start', 'end', 'startValue', 'endValue', 'throttle'], function (name) {\n    option.hasOwnProperty(name) && (ret[name] = option[name]);\n  });\n  return ret;\n}\n\nfunction updateRangeUse(dataZoomModel, inputRawOption) {\n  var rangePropMode = dataZoomModel._rangePropMode;\n  var rangeModeInOption = dataZoomModel.get('rangeMode');\n  each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n    var percentSpecified = inputRawOption[names[0]] != null;\n    var valueSpecified = inputRawOption[names[1]] != null;\n\n    if (percentSpecified && !valueSpecified) {\n      rangePropMode[index] = 'percent';\n    } else if (!percentSpecified && valueSpecified) {\n      rangePropMode[index] = 'value';\n    } else if (rangeModeInOption) {\n      rangePropMode[index] = rangeModeInOption[index];\n    } else if (percentSpecified) {\n      // percentSpecified && valueSpecified\n      rangePropMode[index] = 'percent';\n    } // else remain its original setting.\n\n  });\n}\n\nvar _default = DataZoomModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar DataZoomModel = require(\"./DataZoomModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = DataZoomModel.extend({\n  type: 'dataZoom.select'\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected; // Update all legend components\n\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n\n    var legendData = legendModel.getData();\n    zrUtil.each(legendData, function (model) {\n      var name = model.get('name'); // Wrap element\n\n      if (name === '\\n' || name === '') {\n        return;\n      }\n\n      var isItemSelected = legendModel.isSelected(name);\n\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  }); // Return the event explicitly\n\n  return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n    selected: selectedMap\n  } : {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\n/**\n * @event legendToggleSelect\n * @type {Object}\n * @property {string} type 'legendToggleSelect'\n * @property {string} [from]\n * @property {string} name Series name or data item name\n */\n\n\necharts.registerAction('legendToggleSelect', 'legendselectchanged', zrUtil.curry(legendSelectActionHandler, 'toggleSelected'));\necharts.registerAction('legendAllSelect', 'legendselectall', zrUtil.curry(legendSelectActionHandler, 'allSelect'));\necharts.registerAction('legendInverseSelect', 'legendinverseselect', zrUtil.curry(legendSelectActionHandler, 'inverseSelect'));\n/**\n * @event legendSelect\n * @type {Object}\n * @property {string} type 'legendSelect'\n * @property {string} name Series name or data item name\n */\n\necharts.registerAction('legendSelect', 'legendselected', zrUtil.curry(legendSelectActionHandler, 'select'));\n/**\n * @event legendUnSelect\n * @type {Object}\n * @property {string} type 'legendUnSelect'\n * @property {string} name Series name or data item name\n */\n\necharts.registerAction('legendUnSelect', 'legendunselected', zrUtil.curry(legendSelectActionHandler, 'unSelect'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar DataZoomView = require(\"./DataZoomView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = DataZoomView.extend({\n  type: 'dataZoom.select'\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Uint8Array */\nvar saveAsImageLang = lang.toolbox.saveAsImage;\n\nfunction SaveAsImage(model) {\n  this.model = model;\n}\n\nSaveAsImage.defaultOption = {\n  show: true,\n  icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0',\n  title: saveAsImageLang.title,\n  type: 'png',\n  // Default use option.backgroundColor\n  // backgroundColor: '#fff',\n  connectedBackgroundColor: '#fff',\n  name: '',\n  excludeComponents: ['toolbox'],\n  pixelRatio: 1,\n  lang: saveAsImageLang.lang.slice()\n};\nSaveAsImage.prototype.unusable = !env.canvasSupported;\nvar proto = SaveAsImage.prototype;\n\nproto.onclick = function (ecModel, api) {\n  var model = this.model;\n  var title = model.get('name') || ecModel.get('title.0.text') || 'echarts';\n  var isSvg = api.getZr().painter.getType() === 'svg';\n  var type = isSvg ? 'svg' : model.get('type', true) || 'png';\n  var url = api.getConnectedDataURL({\n    type: type,\n    backgroundColor: model.get('backgroundColor', true) || ecModel.get('backgroundColor') || '#fff',\n    connectedBackgroundColor: model.get('connectedBackgroundColor'),\n    excludeComponents: model.get('excludeComponents'),\n    pixelRatio: model.get('pixelRatio')\n  }); // Chrome and Firefox\n\n  if (typeof MouseEvent === 'function' && !env.browser.ie && !env.browser.edge) {\n    var $a = document.createElement('a');\n    $a.download = title + '.' + type;\n    $a.target = '_blank';\n    $a.href = url;\n    var evt = new MouseEvent('click', {\n      // some micro front-end framework window maybe is a Proxy\n      view: document.defaultView,\n      bubbles: true,\n      cancelable: false\n    });\n    $a.dispatchEvent(evt);\n  } // IE\n  else {\n      if (window.navigator.msSaveOrOpenBlob) {\n        var bstr = atob(url.split(',')[1]);\n        var n = bstr.length;\n        var u8arr = new Uint8Array(n);\n\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n\n        var blob = new Blob([u8arr]);\n        window.navigator.msSaveOrOpenBlob(blob, title + '.' + type);\n      } else {\n        var lang = model.get('lang');\n        var html = '' + '<body style=\"margin:0;\">' + '<img src=\"' + url + '\" style=\"max-width:100%;\" title=\"' + (lang && lang[0] || '') + '\" />' + '</body>';\n        var tab = window.open();\n        tab.document.write(html);\n      }\n    }\n};\n\nfeatureManager.register('saveAsImage', SaveAsImage);\nvar _default = SaveAsImage;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar formatUtil = require(\"../../util/format\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AXIS_DIMS = ['x', 'y', 'z', 'radius', 'angle', 'single']; // Supported coords.\n\nvar COORDS = ['cartesian2d', 'polar', 'singleAxis'];\n/**\n * @param {string} coordType\n * @return {boolean}\n */\n\nfunction isCoordSupported(coordType) {\n  return zrUtil.indexOf(COORDS, coordType) >= 0;\n}\n/**\n * Create \"each\" method to iterate names.\n *\n * @pubilc\n * @param  {Array.<string>} names\n * @param  {Array.<string>=} attrs\n * @return {Function}\n */\n\n\nfunction createNameEach(names, attrs) {\n  names = names.slice();\n  var capitalNames = zrUtil.map(names, formatUtil.capitalFirst);\n  attrs = (attrs || []).slice();\n  var capitalAttrs = zrUtil.map(attrs, formatUtil.capitalFirst);\n  return function (callback, context) {\n    zrUtil.each(names, function (name, index) {\n      var nameObj = {\n        name: name,\n        capital: capitalNames[index]\n      };\n\n      for (var j = 0; j < attrs.length; j++) {\n        nameObj[attrs[j]] = name + capitalAttrs[j];\n      }\n\n      callback.call(context, nameObj);\n    });\n  };\n}\n/**\n * Iterate each dimension name.\n *\n * @public\n * @param {Function} callback The parameter is like:\n *                            {\n *                                name: 'angle',\n *                                capital: 'Angle',\n *                                axis: 'angleAxis',\n *                                axisIndex: 'angleAixs',\n *                                index: 'angleIndex'\n *                            }\n * @param {Object} context\n */\n\n\nvar eachAxisDim = createNameEach(AXIS_DIMS, ['axisIndex', 'axis', 'index', 'id']);\n/**\n * If tow dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * dataZoomModels and 'links' make up one or more graphics.\n * This function finds the graphic where the source dataZoomModel is in.\n *\n * @public\n * @param {Function} forEachNode Node iterator.\n * @param {Function} forEachEdgeType edgeType iterator\n * @param {Function} edgeIdGetter Giving node and edgeType, return an array of edge id.\n * @return {Function} Input: sourceNode, Output: Like {nodes: [], dims: {}}\n */\n\nfunction createLinkedNodesFinder(forEachNode, forEachEdgeType, edgeIdGetter) {\n  return function (sourceNode) {\n    var result = {\n      nodes: [],\n      records: {} // key: edgeType.name, value: Object (key: edge id, value: boolean).\n\n    };\n    forEachEdgeType(function (edgeType) {\n      result.records[edgeType.name] = {};\n    });\n\n    if (!sourceNode) {\n      return result;\n    }\n\n    absorb(sourceNode, result);\n    var existsLink;\n\n    do {\n      existsLink = false;\n      forEachNode(processSingleNode);\n    } while (existsLink);\n\n    function processSingleNode(node) {\n      if (!isNodeAbsorded(node, result) && isLinked(node, result)) {\n        absorb(node, result);\n        existsLink = true;\n      }\n    }\n\n    return result;\n  };\n\n  function isNodeAbsorded(node, result) {\n    return zrUtil.indexOf(result.nodes, node) >= 0;\n  }\n\n  function isLinked(node, result) {\n    var hasLink = false;\n    forEachEdgeType(function (edgeType) {\n      zrUtil.each(edgeIdGetter(node, edgeType) || [], function (edgeId) {\n        result.records[edgeType.name][edgeId] && (hasLink = true);\n      });\n    });\n    return hasLink;\n  }\n\n  function absorb(node, result) {\n    result.nodes.push(node);\n    forEachEdgeType(function (edgeType) {\n      zrUtil.each(edgeIdGetter(node, edgeType) || [], function (edgeId) {\n        result.records[edgeType.name][edgeId] = true;\n      });\n    });\n  }\n}\n\nexports.isCoordSupported = isCoordSupported;\nexports.createNameEach = createNameEach;\nexports.eachAxisDim = eachAxisDim;\nexports.createLinkedNodesFinder = createLinkedNodesFinder;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _listComponent = require(\"../helper/listComponent\");\n\nvar makeBackground = _listComponent.makeBackground;\n\nvar layoutUtil = require(\"../../util/layout\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar _default = echarts.extendComponentView({\n  type: 'legend.plain',\n  newlineDisabled: false,\n\n  /**\n   * @override\n   */\n  init: function () {\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n    this.group.add(this._contentGroup = new Group());\n    /**\n     * @private\n     * @type {module:zrender/Element}\n     */\n\n    this._backgroundEl;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this.group.add(this._selectorGroup = new Group());\n    /**\n     * If first rendering, `contentGroup.position` is [0, 0], which\n     * does not make sense and may cause unexepcted animation if adopted.\n     * @private\n     * @type {boolean}\n     */\n\n    this._isFirstRender = true;\n  },\n\n  /**\n   * @protected\n   */\n  getContentGroup: function () {\n    return this._contentGroup;\n  },\n\n  /**\n   * @protected\n   */\n  getSelectorGroup: function () {\n    return this._selectorGroup;\n  },\n\n  /**\n   * @override\n   */\n  render: function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    }\n\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.attr('position', [layoutRect.x - mainRect.x, layoutRect.y - mainRect.y]); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  },\n\n  /**\n   * @protected\n   */\n  resetInner: function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  },\n\n  /**\n   * @protected\n   */\n  renderInner: function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (itemModel, dataIndex) {\n      var name = itemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        contentGroup.add(new Group({\n          newline: true\n        }));\n        return;\n      } // Representitive series.\n\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Legend to control series.\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var color = data.getVisual('color');\n        var borderColor = data.getVisual('borderColor'); // If color is a callback function\n\n        if (typeof color === 'function') {\n          // Use the first data\n          color = color(seriesModel.getDataParams(0));\n        } // If borderColor is a callback function\n\n\n        if (typeof borderColor === 'function') {\n          // Use the first data\n          borderColor = borderColor(seriesModel.getDataParams(0));\n        } // Using rect symbol defaultly\n\n\n        var legendSymbolType = data.getVisual('legendSymbol') || 'roundRect';\n        var symbolType = data.getVisual('symbol');\n\n        var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n\n            if (!provider.containName(name)) {\n              return;\n            }\n\n            var idx = provider.indexOfName(name);\n            var color = provider.getItemVisual(idx, 'color');\n            var borderColor = provider.getItemVisual(idx, 'borderColor');\n            var legendSymbolType = 'roundRect';\n\n            var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, null, itemAlign, color, borderColor, selectMode); // FIXME: consider different series has items with the same name.\n\n\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n    }, this);\n\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  },\n  _createSelector: function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function (selectorItem) {\n      createSelectorButton(selectorItem);\n    });\n\n    function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel('emphasis.selectorLabel');\n      graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, emphasisLabelModel, {\n        defaultText: selectorItem.title,\n        isRectText: false\n      });\n      graphic.setHoverStyle(labelText);\n    }\n  },\n  _createItem: function (name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode) {\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var inactiveColor = legendModel.get('inactiveColor');\n    var inactiveBorderColor = legendModel.get('inactiveBorderColor');\n    var symbolKeepAspect = legendModel.get('symbolKeepAspect');\n    var legendModelItemStyle = legendModel.getModel('itemStyle');\n    var isSelected = legendModel.isSelected(name);\n    var itemGroup = new Group();\n    var textStyleModel = itemModel.getModel('textStyle');\n    var itemIcon = itemModel.get('icon');\n    var tooltipModel = itemModel.getModel('tooltip');\n    var legendGlobalTooltipModel = tooltipModel.parentModel; // Use user given icon first\n\n    legendSymbolType = itemIcon || legendSymbolType;\n    var legendSymbol = createSymbol(legendSymbolType, 0, 0, itemWidth, itemHeight, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n    symbolKeepAspect == null ? true : symbolKeepAspect);\n    itemGroup.add(setSymbolStyle(legendSymbol, legendSymbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected)); // Compose symbols\n    // PENDING\n\n    if (!itemIcon && symbolType // At least show one symbol, can't be all none\n    && (symbolType !== legendSymbolType || symbolType === 'none')) {\n      var size = itemHeight * 0.8;\n\n      if (symbolType === 'none') {\n        symbolType = 'circle';\n      }\n\n      var legendSymbolCenter = createSymbol(symbolType, (itemWidth - size) / 2, (itemHeight - size) / 2, size, size, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n      symbolKeepAspect == null ? true : symbolKeepAspect); // Put symbol in the center\n\n      itemGroup.add(setSymbolStyle(legendSymbolCenter, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (typeof formatter === 'string' && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (typeof formatter === 'function') {\n      content = formatter(name);\n    }\n\n    itemGroup.add(new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        textFill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        textAlign: textAlign,\n        textVerticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true,\n      tooltip: tooltipModel.get('show') ? zrUtil.extend({\n        content: name,\n        // Defaul formatter\n        formatter: legendGlobalTooltipModel.get('formatter', true) || function () {\n          return name;\n        },\n        formatterParams: {\n          componentType: 'legend',\n          legendIndex: legendModel.componentIndex,\n          name: name,\n          $vars: ['name']\n        }\n      }, tooltipModel.option) : null\n    });\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    graphic.setHoverStyle(itemGroup);\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  },\n\n  /**\n   * @protected\n   */\n  layoutInner: function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      } //Always align selector to content as 'middle'\n\n\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.attr('position', selectorPos);\n      contentGroup.attr('position', contentPos);\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.attr('position', contentPos);\n      return this.group.getBoundingRect();\n    }\n  },\n\n  /**\n   * @protected\n   */\n  remove: function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  }\n});\n\nfunction setSymbolStyle(symbol, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected) {\n  var itemStyle;\n\n  if (symbolType !== 'line' && symbolType.indexOf('empty') < 0) {\n    itemStyle = legendModelItemStyle.getItemStyle();\n    symbol.style.stroke = borderColor;\n\n    if (!isSelected) {\n      itemStyle.stroke = inactiveBorderColor;\n    }\n  } else {\n    itemStyle = legendModelItemStyle.getItemStyle(['borderWidth', 'borderColor']);\n  }\n\n  return symbol.setStyle(itemStyle);\n}\n\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  }); // highlight after select\n\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\n\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _helper = require(\"./helper\");\n\nvar setLabel = _helper.setLabel;\n\nvar Model = require(\"../../model/Model\");\n\nvar barItemStyle = require(\"./barItemStyle\");\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar Group = require(\"zrender/lib/container/Group\");\n\nvar _throttle = require(\"../../util/throttle\");\n\nvar throttle = _throttle.throttle;\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createClipPath = _createClipPathFromCoordSys.createClipPath;\n\nvar Sausage = require(\"../../util/shape/sausage\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'barBorderWidth'];\nvar _eventPos = [0, 0]; // FIXME\n// Just for compatible with ec2.\n\nzrUtil.extend(Model.prototype, barItemStyle);\n\nfunction getClipArea(coord, data) {\n  var coordSysClipArea = coord.getArea && coord.getArea();\n\n  if (coord.type === 'cartesian2d') {\n    var baseAxis = coord.getBaseAxis(); // When boundaryGap is false or using time axis. bar may exceed the grid.\n    // We should not clip this part.\n    // See test/bar2.html\n\n    if (baseAxis.type !== 'category' || !baseAxis.onBand) {\n      var expandWidth = data.getLayout('bandWidth');\n\n      if (baseAxis.isHorizontal()) {\n        coordSysClipArea.x -= expandWidth;\n        coordSysClipArea.width += expandWidth * 2;\n      } else {\n        coordSysClipArea.y -= expandWidth;\n        coordSysClipArea.height += expandWidth * 2;\n      }\n    }\n  }\n\n  return coordSysClipArea;\n}\n\nvar _default = echarts.extendChartView({\n  type: 'bar',\n  render: function (seriesModel, ecModel, api) {\n    this._updateDrawMode(seriesModel);\n\n    var coordinateSystemType = seriesModel.get('coordinateSystem');\n\n    if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n      this._isLargeDraw ? this._renderLarge(seriesModel, ecModel, api) : this._renderNormal(seriesModel, ecModel, api);\n    } else {}\n\n    return this.group;\n  },\n  incrementalPrepareRender: function (seriesModel, ecModel, api) {\n    this._clear();\n\n    this._updateDrawMode(seriesModel);\n  },\n  incrementalRender: function (params, seriesModel, ecModel, api) {\n    // Do not support progressive in normal mode.\n    this._incrementalRenderLarge(params, seriesModel);\n  },\n  _updateDrawMode: function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n\n    if (this._isLargeDraw == null || isLargeDraw ^ this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n\n      this._clear();\n    }\n  },\n  _renderNormal: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coord = seriesModel.coordinateSystem;\n    var baseAxis = coord.getBaseAxis();\n    var isHorizontalOrRadial;\n\n    if (coord.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n    } else if (coord.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n    }\n\n    var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n    var needsClip = seriesModel.get('clip', true);\n    var coordSysClipArea = getClipArea(coord, data); // If there is clipPath created in large mode. Remove it.\n\n    group.removeClipPath(); // We don't use clipPath in normal mode because we needs a perfect animation\n    // And don't want the label are clipped.\n\n    var roundCap = seriesModel.get('roundCap', true);\n    var drawBackground = seriesModel.get('showBackground', true);\n    var backgroundModel = seriesModel.getModel('backgroundStyle');\n    var barBorderRadius = backgroundModel.get('barBorderRadius') || 0;\n    var bgEls = [];\n    var oldBgEls = this._backgroundEls || [];\n\n    var createBackground = function (dataIndex) {\n      var bgLayout = getLayout[coord.type](data, dataIndex);\n      var bgEl = createBackgroundEl(coord, isHorizontalOrRadial, bgLayout);\n      bgEl.useStyle(backgroundModel.getBarItemStyle()); // Only cartesian2d support borderRadius.\n\n      if (coord.type === 'cartesian2d') {\n        bgEl.setShape('r', barBorderRadius);\n      }\n\n      bgEls[dataIndex] = bgEl;\n      return bgEl;\n    };\n\n    data.diff(oldData).add(function (dataIndex) {\n      var itemModel = data.getItemModel(dataIndex);\n      var layout = getLayout[coord.type](data, dataIndex, itemModel);\n\n      if (drawBackground) {\n        createBackground(dataIndex);\n      } // If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in \"axisProxy\".\n\n\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      if (needsClip) {\n        // Clip will modify the layout params.\n        // And return a boolean to determine if the shape are fully clipped.\n        var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n        if (isClipped) {\n          group.remove(el);\n          return;\n        }\n      }\n\n      var el = elementCreator[coord.type](dataIndex, layout, isHorizontalOrRadial, animationModel, false, roundCap);\n      data.setItemGraphicEl(dataIndex, el);\n      group.add(el);\n      updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).update(function (newIndex, oldIndex) {\n      var itemModel = data.getItemModel(newIndex);\n      var layout = getLayout[coord.type](data, newIndex, itemModel);\n\n      if (drawBackground) {\n        var bgEl;\n\n        if (oldBgEls.length === 0) {\n          bgEl = createBackground(oldIndex);\n        } else {\n          bgEl = oldBgEls[oldIndex];\n          bgEl.useStyle(backgroundModel.getBarItemStyle()); // Only cartesian2d support borderRadius.\n\n          if (coord.type === 'cartesian2d') {\n            bgEl.setShape('r', barBorderRadius);\n          }\n\n          bgEls[newIndex] = bgEl;\n        }\n\n        var bgLayout = getLayout[coord.type](data, newIndex);\n        var shape = createBackgroundShape(isHorizontalOrRadial, bgLayout, coord);\n        graphic.updateProps(bgEl, {\n          shape: shape\n        }, animationModel, newIndex);\n      }\n\n      var el = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(el);\n        return;\n      }\n\n      if (needsClip) {\n        var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n        if (isClipped) {\n          group.remove(el);\n          return;\n        }\n      }\n\n      if (el) {\n        graphic.updateProps(el, {\n          shape: layout\n        }, animationModel, newIndex);\n      } else {\n        el = elementCreator[coord.type](newIndex, layout, isHorizontalOrRadial, animationModel, true, roundCap);\n      }\n\n      data.setItemGraphicEl(newIndex, el); // Add back\n\n      group.add(el);\n      updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).remove(function (dataIndex) {\n      var el = oldData.getItemGraphicEl(dataIndex);\n\n      if (coord.type === 'cartesian2d') {\n        el && removeRect(dataIndex, animationModel, el);\n      } else {\n        el && removeSector(dataIndex, animationModel, el);\n      }\n    }).execute();\n    var bgGroup = this._backgroundGroup || (this._backgroundGroup = new Group());\n    bgGroup.removeAll();\n\n    for (var i = 0; i < bgEls.length; ++i) {\n      bgGroup.add(bgEls[i]);\n    }\n\n    group.add(bgGroup);\n    this._backgroundEls = bgEls;\n    this._data = data;\n  },\n  _renderLarge: function (seriesModel, ecModel, api) {\n    this._clear();\n\n    createLarge(seriesModel, this.group); // Use clipPath in large mode.\n\n    var clipPath = seriesModel.get('clip', true) ? createClipPath(seriesModel.coordinateSystem, false, seriesModel) : null;\n\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n  },\n  _incrementalRenderLarge: function (params, seriesModel) {\n    this._removeBackground();\n\n    createLarge(seriesModel, this.group, true);\n  },\n  dispose: zrUtil.noop,\n  remove: function (ecModel) {\n    this._clear(ecModel);\n  },\n  _clear: function (ecModel) {\n    var group = this.group;\n    var data = this._data;\n\n    if (ecModel && ecModel.get('animation') && data && !this._isLargeDraw) {\n      this._removeBackground();\n\n      this._backgroundEls = [];\n      data.eachItemGraphicEl(function (el) {\n        if (el.type === 'sector') {\n          removeSector(el.dataIndex, ecModel, el);\n        } else {\n          removeRect(el.dataIndex, ecModel, el);\n        }\n      });\n    } else {\n      group.removeAll();\n    }\n\n    this._data = null;\n  },\n  _removeBackground: function () {\n    this.group.remove(this._backgroundGroup);\n    this._backgroundGroup = null;\n  }\n});\n\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar clip = {\n  cartesian2d: function (coordSysBoundingRect, layout) {\n    var signWidth = layout.width < 0 ? -1 : 1;\n    var signHeight = layout.height < 0 ? -1 : 1; // Needs positive width and height\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n\n    var x = mathMax(layout.x, coordSysBoundingRect.x);\n    var x2 = mathMin(layout.x + layout.width, coordSysBoundingRect.x + coordSysBoundingRect.width);\n    var y = mathMax(layout.y, coordSysBoundingRect.y);\n    var y2 = mathMin(layout.y + layout.height, coordSysBoundingRect.y + coordSysBoundingRect.height);\n    layout.x = x;\n    layout.y = y;\n    layout.width = x2 - x;\n    layout.height = y2 - y;\n    var clipped = layout.width < 0 || layout.height < 0; // Reverse back\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n\n    return clipped;\n  },\n  polar: function (coordSysClipArea, layout) {\n    var signR = layout.r0 <= layout.r ? 1 : -1; // Make sure r is larger than r0\n\n    if (signR < 0) {\n      var r = layout.r;\n      layout.r = layout.r0;\n      layout.r0 = r;\n    }\n\n    var r = mathMin(layout.r, coordSysClipArea.r);\n    var r0 = mathMax(layout.r0, coordSysClipArea.r0);\n    layout.r = r;\n    layout.r0 = r0;\n    var clipped = r - r0 < 0; // Reverse back\n\n    if (signR < 0) {\n      var r = layout.r;\n      layout.r = layout.r0;\n      layout.r0 = r;\n    }\n\n    return clipped;\n  }\n};\nvar elementCreator = {\n  cartesian2d: function (dataIndex, layout, isHorizontal, animationModel, isUpdate) {\n    var rect = new graphic.Rect({\n      shape: zrUtil.extend({}, layout),\n      z2: 1\n    });\n    rect.name = 'item'; // Animation\n\n    if (animationModel) {\n      var rectShape = rect.shape;\n      var animateProperty = isHorizontal ? 'height' : 'width';\n      var animateTarget = {};\n      rectShape[animateProperty] = 0;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](rect, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return rect;\n  },\n  polar: function (dataIndex, layout, isRadial, animationModel, isUpdate, roundCap) {\n    // Keep the same logic with bar in catesion: use end value to control\n    // direction. Notice that if clockwise is true (by default), the sector\n    // will always draw clockwisely, no matter whether endAngle is greater\n    // or less than startAngle.\n    var clockwise = layout.startAngle < layout.endAngle;\n    var ShapeClass = !isRadial && roundCap ? Sausage : graphic.Sector;\n    var sector = new ShapeClass({\n      shape: zrUtil.defaults({\n        clockwise: clockwise\n      }, layout),\n      z2: 1\n    });\n    sector.name = 'item'; // Animation\n\n    if (animationModel) {\n      var sectorShape = sector.shape;\n      var animateProperty = isRadial ? 'r' : 'endAngle';\n      var animateTarget = {};\n      sectorShape[animateProperty] = isRadial ? 0 : layout.startAngle;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](sector, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return sector;\n  }\n};\n\nfunction removeRect(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      width: 0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nfunction removeSector(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      r: el.shape.r0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nvar getLayout = {\n  // itemModel is only used to get borderWidth, which is not needed\n  // when calculating bar background layout.\n  cartesian2d: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    var fixedLineWidth = itemModel ? getLineWidth(itemModel, layout) : 0; // fix layout with lineWidth\n\n    var signX = layout.width > 0 ? 1 : -1;\n    var signY = layout.height > 0 ? 1 : -1;\n    return {\n      x: layout.x + signX * fixedLineWidth / 2,\n      y: layout.y + signY * fixedLineWidth / 2,\n      width: layout.width - signX * fixedLineWidth,\n      height: layout.height - signY * fixedLineWidth\n    };\n  },\n  polar: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    return {\n      cx: layout.cx,\n      cy: layout.cy,\n      r0: layout.r0,\n      r: layout.r,\n      startAngle: layout.startAngle,\n      endAngle: layout.endAngle\n    };\n  }\n};\n\nfunction isZeroOnPolar(layout) {\n  return layout.startAngle != null && layout.endAngle != null && layout.startAngle === layout.endAngle;\n}\n\nfunction updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontal, isPolar) {\n  var color = data.getItemVisual(dataIndex, 'color');\n  var opacity = data.getItemVisual(dataIndex, 'opacity');\n  var stroke = data.getVisual('borderColor');\n  var itemStyleModel = itemModel.getModel('itemStyle');\n  var hoverStyle = itemModel.getModel('emphasis.itemStyle').getBarItemStyle();\n\n  if (!isPolar) {\n    el.setShape('r', itemStyleModel.get('barBorderRadius') || 0);\n  }\n\n  el.useStyle(zrUtil.defaults({\n    stroke: isZeroOnPolar(layout) ? 'none' : stroke,\n    fill: isZeroOnPolar(layout) ? 'none' : color,\n    opacity: opacity\n  }, itemStyleModel.getBarItemStyle()));\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && el.attr('cursor', cursorStyle);\n  var labelPositionOutside = isHorizontal ? layout.height > 0 ? 'bottom' : 'top' : layout.width > 0 ? 'left' : 'right';\n\n  if (!isPolar) {\n    setLabel(el.style, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside);\n  }\n\n  if (isZeroOnPolar(layout)) {\n    hoverStyle.fill = hoverStyle.stroke = 'none';\n  }\n\n  graphic.setHoverStyle(el, hoverStyle);\n} // In case width or height are too small.\n\n\nfunction getLineWidth(itemModel, rawLayout) {\n  var lineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0; // width or height may be NaN for empty data\n\n  var width = isNaN(rawLayout.width) ? Number.MAX_VALUE : Math.abs(rawLayout.width);\n  var height = isNaN(rawLayout.height) ? Number.MAX_VALUE : Math.abs(rawLayout.height);\n  return Math.min(lineWidth, width, height);\n}\n\nvar LargePath = Path.extend({\n  type: 'largeBar',\n  shape: {\n    points: []\n  },\n  buildPath: function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n    var startPoint = this.__startPoint;\n    var baseDimIdx = this.__baseDimIdx;\n\n    for (var i = 0; i < points.length; i += 2) {\n      startPoint[baseDimIdx] = points[i + baseDimIdx];\n      ctx.moveTo(startPoint[0], startPoint[1]);\n      ctx.lineTo(points[i], points[i + 1]);\n    }\n  }\n});\n\nfunction createLarge(seriesModel, group, incremental) {\n  // TODO support polar\n  var data = seriesModel.getData();\n  var startPoint = [];\n  var baseDimIdx = data.getLayout('valueAxisHorizontal') ? 1 : 0;\n  startPoint[1 - baseDimIdx] = data.getLayout('valueAxisStart');\n  var largeDataIndices = data.getLayout('largeDataIndices');\n  var barWidth = data.getLayout('barWidth');\n  var backgroundModel = seriesModel.getModel('backgroundStyle');\n  var drawBackground = seriesModel.get('showBackground', true);\n\n  if (drawBackground) {\n    var points = data.getLayout('largeBackgroundPoints');\n    var backgroundStartPoint = [];\n    backgroundStartPoint[1 - baseDimIdx] = data.getLayout('backgroundStart');\n    var bgEl = new LargePath({\n      shape: {\n        points: points\n      },\n      incremental: !!incremental,\n      __startPoint: backgroundStartPoint,\n      __baseDimIdx: baseDimIdx,\n      __largeDataIndices: largeDataIndices,\n      __barWidth: barWidth,\n      silent: true,\n      z2: 0\n    });\n    setLargeBackgroundStyle(bgEl, backgroundModel, data);\n    group.add(bgEl);\n  }\n\n  var el = new LargePath({\n    shape: {\n      points: data.getLayout('largePoints')\n    },\n    incremental: !!incremental,\n    __startPoint: startPoint,\n    __baseDimIdx: baseDimIdx,\n    __largeDataIndices: largeDataIndices,\n    __barWidth: barWidth\n  });\n  group.add(el);\n  setLargeStyle(el, seriesModel, data); // Enable tooltip and user mouse/touch event handlers.\n\n  el.seriesIndex = seriesModel.seriesIndex;\n\n  if (!seriesModel.get('silent')) {\n    el.on('mousedown', largePathUpdateDataIndex);\n    el.on('mousemove', largePathUpdateDataIndex);\n  }\n} // Use throttle to avoid frequently traverse to find dataIndex.\n\n\nvar largePathUpdateDataIndex = throttle(function (event) {\n  var largePath = this;\n  var dataIndex = largePathFindDataIndex(largePath, event.offsetX, event.offsetY);\n  largePath.dataIndex = dataIndex >= 0 ? dataIndex : null;\n}, 30, false);\n\nfunction largePathFindDataIndex(largePath, x, y) {\n  var baseDimIdx = largePath.__baseDimIdx;\n  var valueDimIdx = 1 - baseDimIdx;\n  var points = largePath.shape.points;\n  var largeDataIndices = largePath.__largeDataIndices;\n  var barWidthHalf = Math.abs(largePath.__barWidth / 2);\n  var startValueVal = largePath.__startPoint[valueDimIdx];\n  _eventPos[0] = x;\n  _eventPos[1] = y;\n  var pointerBaseVal = _eventPos[baseDimIdx];\n  var pointerValueVal = _eventPos[1 - baseDimIdx];\n  var baseLowerBound = pointerBaseVal - barWidthHalf;\n  var baseUpperBound = pointerBaseVal + barWidthHalf;\n\n  for (var i = 0, len = points.length / 2; i < len; i++) {\n    var ii = i * 2;\n    var barBaseVal = points[ii + baseDimIdx];\n    var barValueVal = points[ii + valueDimIdx];\n\n    if (barBaseVal >= baseLowerBound && barBaseVal <= baseUpperBound && (startValueVal <= barValueVal ? pointerValueVal >= startValueVal && pointerValueVal <= barValueVal : pointerValueVal >= barValueVal && pointerValueVal <= startValueVal)) {\n      return largeDataIndices[i];\n    }\n  }\n\n  return -1;\n}\n\nfunction setLargeStyle(el, seriesModel, data) {\n  var borderColor = data.getVisual('borderColor') || data.getVisual('color');\n  var itemStyle = seriesModel.getModel('itemStyle').getItemStyle(['color', 'borderColor']);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n  el.style.lineWidth = data.getLayout('barWidth');\n}\n\nfunction setLargeBackgroundStyle(el, backgroundModel, data) {\n  var borderColor = backgroundModel.get('borderColor') || backgroundModel.get('color');\n  var itemStyle = backgroundModel.getItemStyle(['color', 'borderColor']);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n  el.style.lineWidth = data.getLayout('barWidth');\n}\n\nfunction createBackgroundShape(isHorizontalOrRadial, layout, coord) {\n  var coordLayout;\n  var isPolar = coord.type === 'polar';\n\n  if (isPolar) {\n    coordLayout = coord.getArea();\n  } else {\n    coordLayout = coord.grid.getRect();\n  }\n\n  if (isPolar) {\n    return {\n      cx: coordLayout.cx,\n      cy: coordLayout.cy,\n      r0: isHorizontalOrRadial ? coordLayout.r0 : layout.r0,\n      r: isHorizontalOrRadial ? coordLayout.r : layout.r,\n      startAngle: isHorizontalOrRadial ? layout.startAngle : 0,\n      endAngle: isHorizontalOrRadial ? layout.endAngle : Math.PI * 2\n    };\n  } else {\n    return {\n      x: isHorizontalOrRadial ? layout.x : coordLayout.x,\n      y: isHorizontalOrRadial ? coordLayout.y : layout.y,\n      width: isHorizontalOrRadial ? layout.width : coordLayout.width,\n      height: isHorizontalOrRadial ? coordLayout.height : layout.height\n    };\n  }\n}\n\nfunction createBackgroundEl(coord, isHorizontalOrRadial, layout) {\n  var ElementClz = coord.type === 'polar' ? graphic.Sector : graphic.Rect;\n  return new ElementClz({\n    shape: createBackgroundShape(isHorizontalOrRadial, layout, coord),\n    silent: true,\n    z2: 0\n  });\n}\n\nmodule.exports = _default;","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarChart.vue?vue&type=style&index=0&id=3cd40bd9&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarChart.vue?vue&type=style&index=0&id=3cd40bd9&scoped=true&lang=css&\"","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Component = require(\"../../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nComponent.registerSubTypeDefaulter('dataZoom', function () {\n  // Default 'slider' when no type specified.\n  return 'slider';\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar ATTR = '\\0_ec_hist_store';\n/**\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} newSnapshot {dataZoomId, batch: [payloadInfo, ...]}\n */\n\nfunction push(ecModel, newSnapshot) {\n  var store = giveStore(ecModel); // If previous dataZoom can not be found,\n  // complete an range with current range.\n\n  each(newSnapshot, function (batchItem, dataZoomId) {\n    var i = store.length - 1;\n\n    for (; i >= 0; i--) {\n      var snapshot = store[i];\n\n      if (snapshot[dataZoomId]) {\n        break;\n      }\n    }\n\n    if (i < 0) {\n      // No origin range set, create one by current range.\n      var dataZoomModel = ecModel.queryComponents({\n        mainType: 'dataZoom',\n        subType: 'select',\n        id: dataZoomId\n      })[0];\n\n      if (dataZoomModel) {\n        var percentRange = dataZoomModel.getPercentRange();\n        store[0][dataZoomId] = {\n          dataZoomId: dataZoomId,\n          start: percentRange[0],\n          end: percentRange[1]\n        };\n      }\n    }\n  });\n  store.push(newSnapshot);\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} snapshot\n */\n\n\nfunction pop(ecModel) {\n  var store = giveStore(ecModel);\n  var head = store[store.length - 1];\n  store.length > 1 && store.pop(); // Find top for all dataZoom.\n\n  var snapshot = {};\n  each(head, function (batchItem, dataZoomId) {\n    for (var i = store.length - 1; i >= 0; i--) {\n      var batchItem = store[i][dataZoomId];\n\n      if (batchItem) {\n        snapshot[dataZoomId] = batchItem;\n        break;\n      }\n    }\n  });\n  return snapshot;\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n */\n\n\nfunction clear(ecModel) {\n  ecModel[ATTR] = null;\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n * @return {number} records. always >= 1.\n */\n\n\nfunction count(ecModel) {\n  return giveStore(ecModel).length;\n}\n/**\n * [{key: dataZoomId, value: {dataZoomId, range}}, ...]\n * History length of each dataZoom may be different.\n * this._history[0] is used to store origin range.\n * @type {Array.<Object>}\n */\n\n\nfunction giveStore(ecModel) {\n  var store = ecModel[ATTR];\n\n  if (!store) {\n    store = ecModel[ATTR] = [{}];\n  }\n\n  return store;\n}\n\nexports.push = push;\nexports.pop = pop;\nexports.clear = clear;\nexports.count = count;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar dataViewLang = lang.toolbox.dataView;\nvar BLOCK_SPLITER = new Array(60).join('-');\nvar ITEM_SPLITER = '\\t';\n/**\n * Group series into two types\n *  1. on category axis, like line, bar\n *  2. others, like scatter, pie\n * @param {module:echarts/model/Global} ecModel\n * @return {Object}\n * @inner\n */\n\nfunction groupSeries(ecModel) {\n  var seriesGroupByCategoryAxis = {};\n  var otherSeries = [];\n  var meta = [];\n  ecModel.eachRawSeries(function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && (coordSys.type === 'cartesian2d' || coordSys.type === 'polar')) {\n      var baseAxis = coordSys.getBaseAxis();\n\n      if (baseAxis.type === 'category') {\n        var key = baseAxis.dim + '_' + baseAxis.index;\n\n        if (!seriesGroupByCategoryAxis[key]) {\n          seriesGroupByCategoryAxis[key] = {\n            categoryAxis: baseAxis,\n            valueAxis: coordSys.getOtherAxis(baseAxis),\n            series: []\n          };\n          meta.push({\n            axisDim: baseAxis.dim,\n            axisIndex: baseAxis.index\n          });\n        }\n\n        seriesGroupByCategoryAxis[key].series.push(seriesModel);\n      } else {\n        otherSeries.push(seriesModel);\n      }\n    } else {\n      otherSeries.push(seriesModel);\n    }\n  });\n  return {\n    seriesGroupByCategoryAxis: seriesGroupByCategoryAxis,\n    other: otherSeries,\n    meta: meta\n  };\n}\n/**\n * Assemble content of series on cateogory axis\n * @param {Array.<module:echarts/model/Series>} series\n * @return {string}\n * @inner\n */\n\n\nfunction assembleSeriesWithCategoryAxis(series) {\n  var tables = [];\n  zrUtil.each(series, function (group, key) {\n    var categoryAxis = group.categoryAxis;\n    var valueAxis = group.valueAxis;\n    var valueAxisDim = valueAxis.dim;\n    var headers = [' '].concat(zrUtil.map(group.series, function (series) {\n      return series.name;\n    }));\n    var columns = [categoryAxis.model.getCategories()];\n    zrUtil.each(group.series, function (series) {\n      var rawData = series.getRawData();\n      columns.push(series.getRawData().mapArray(rawData.mapDimension(valueAxisDim), function (val) {\n        return val;\n      }));\n    }); // Assemble table content\n\n    var lines = [headers.join(ITEM_SPLITER)];\n\n    for (var i = 0; i < columns[0].length; i++) {\n      var items = [];\n\n      for (var j = 0; j < columns.length; j++) {\n        items.push(columns[j][i]);\n      }\n\n      lines.push(items.join(ITEM_SPLITER));\n    }\n\n    tables.push(lines.join('\\n'));\n  });\n  return tables.join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * Assemble content of other series\n * @param {Array.<module:echarts/model/Series>} series\n * @return {string}\n * @inner\n */\n\n\nfunction assembleOtherSeries(series) {\n  return zrUtil.map(series, function (series) {\n    var data = series.getRawData();\n    var lines = [series.name];\n    var vals = [];\n    data.each(data.dimensions, function () {\n      var argLen = arguments.length;\n      var dataIndex = arguments[argLen - 1];\n      var name = data.getName(dataIndex);\n\n      for (var i = 0; i < argLen - 1; i++) {\n        vals[i] = arguments[i];\n      }\n\n      lines.push((name ? name + ITEM_SPLITER : '') + vals.join(ITEM_SPLITER));\n    });\n    return lines.join('\\n');\n  }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * @param {module:echarts/model/Global}\n * @return {Object}\n * @inner\n */\n\n\nfunction getContentFromModel(ecModel) {\n  var result = groupSeries(ecModel);\n  return {\n    value: zrUtil.filter([assembleSeriesWithCategoryAxis(result.seriesGroupByCategoryAxis), assembleOtherSeries(result.other)], function (str) {\n      return str.replace(/[\\n\\t\\s]/g, '');\n    }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n'),\n    meta: result.meta\n  };\n}\n\nfunction trim(str) {\n  return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n}\n/**\n * If a block is tsv format\n */\n\n\nfunction isTSVFormat(block) {\n  // Simple method to find out if a block is tsv format\n  var firstLine = block.slice(0, block.indexOf('\\n'));\n\n  if (firstLine.indexOf(ITEM_SPLITER) >= 0) {\n    return true;\n  }\n}\n\nvar itemSplitRegex = new RegExp('[' + ITEM_SPLITER + ']+', 'g');\n/**\n * @param {string} tsv\n * @return {Object}\n */\n\nfunction parseTSVContents(tsv) {\n  var tsvLines = tsv.split(/\\n+/g);\n  var headers = trim(tsvLines.shift()).split(itemSplitRegex);\n  var categories = [];\n  var series = zrUtil.map(headers, function (header) {\n    return {\n      name: header,\n      data: []\n    };\n  });\n\n  for (var i = 0; i < tsvLines.length; i++) {\n    var items = trim(tsvLines[i]).split(itemSplitRegex);\n    categories.push(items.shift());\n\n    for (var j = 0; j < items.length; j++) {\n      series[j] && (series[j].data[i] = items[j]);\n    }\n  }\n\n  return {\n    series: series,\n    categories: categories\n  };\n}\n/**\n * @param {string} str\n * @return {Array.<Object>}\n * @inner\n */\n\n\nfunction parseListContents(str) {\n  var lines = str.split(/\\n+/g);\n  var seriesName = trim(lines.shift());\n  var data = [];\n\n  for (var i = 0; i < lines.length; i++) {\n    // if line is empty, ignore it.\n    // there is a case that a user forgot to delete `\\n`.\n    var line = trim(lines[i]);\n\n    if (!line) {\n      continue;\n    }\n\n    var items = line.split(itemSplitRegex);\n    var name = '';\n    var value;\n    var hasName = false;\n\n    if (isNaN(items[0])) {\n      // First item is name\n      hasName = true;\n      name = items[0];\n      items = items.slice(1);\n      data[i] = {\n        name: name,\n        value: []\n      };\n      value = data[i].value;\n    } else {\n      value = data[i] = [];\n    }\n\n    for (var j = 0; j < items.length; j++) {\n      value.push(+items[j]);\n    }\n\n    if (value.length === 1) {\n      hasName ? data[i].value = value[0] : data[i] = value[0];\n    }\n  }\n\n  return {\n    name: seriesName,\n    data: data\n  };\n}\n/**\n * @param {string} str\n * @param {Array.<Object>} blockMetaList\n * @return {Object}\n * @inner\n */\n\n\nfunction parseContents(str, blockMetaList) {\n  var blocks = str.split(new RegExp('\\n*' + BLOCK_SPLITER + '\\n*', 'g'));\n  var newOption = {\n    series: []\n  };\n  zrUtil.each(blocks, function (block, idx) {\n    if (isTSVFormat(block)) {\n      var result = parseTSVContents(block);\n      var blockMeta = blockMetaList[idx];\n      var axisKey = blockMeta.axisDim + 'Axis';\n\n      if (blockMeta) {\n        newOption[axisKey] = newOption[axisKey] || [];\n        newOption[axisKey][blockMeta.axisIndex] = {\n          data: result.categories\n        };\n        newOption.series = newOption.series.concat(result.series);\n      }\n    } else {\n      var result = parseListContents(block);\n      newOption.series.push(result);\n    }\n  });\n  return newOption;\n}\n/**\n * @alias {module:echarts/component/toolbox/feature/DataView}\n * @constructor\n * @param {module:echarts/model/Model} model\n */\n\n\nfunction DataView(model) {\n  this._dom = null;\n  this.model = model;\n}\n\nDataView.defaultOption = {\n  show: true,\n  readOnly: false,\n  optionToContent: null,\n  contentToOption: null,\n  icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28',\n  title: zrUtil.clone(dataViewLang.title),\n  lang: zrUtil.clone(dataViewLang.lang),\n  backgroundColor: '#fff',\n  textColor: '#000',\n  textareaColor: '#fff',\n  textareaBorderColor: '#333',\n  buttonColor: '#c23531',\n  buttonTextColor: '#fff'\n};\n\nDataView.prototype.onclick = function (ecModel, api) {\n  var container = api.getDom();\n  var model = this.model;\n\n  if (this._dom) {\n    container.removeChild(this._dom);\n  }\n\n  var root = document.createElement('div');\n  root.style.cssText = 'position:absolute;left:5px;top:5px;bottom:5px;right:5px;';\n  root.style.backgroundColor = model.get('backgroundColor') || '#fff'; // Create elements\n\n  var header = document.createElement('h4');\n  var lang = model.get('lang') || [];\n  header.innerHTML = lang[0] || model.get('title');\n  header.style.cssText = 'margin: 10px 20px;';\n  header.style.color = model.get('textColor');\n  var viewMain = document.createElement('div');\n  var textarea = document.createElement('textarea');\n  viewMain.style.cssText = 'display:block;width:100%;overflow:auto;';\n  var optionToContent = model.get('optionToContent');\n  var contentToOption = model.get('contentToOption');\n  var result = getContentFromModel(ecModel);\n\n  if (typeof optionToContent === 'function') {\n    var htmlOrDom = optionToContent(api.getOption());\n\n    if (typeof htmlOrDom === 'string') {\n      viewMain.innerHTML = htmlOrDom;\n    } else if (zrUtil.isDom(htmlOrDom)) {\n      viewMain.appendChild(htmlOrDom);\n    }\n  } else {\n    // Use default textarea\n    viewMain.appendChild(textarea);\n    textarea.readOnly = model.get('readOnly');\n    textarea.style.cssText = 'width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;';\n    textarea.style.color = model.get('textColor');\n    textarea.style.borderColor = model.get('textareaBorderColor');\n    textarea.style.backgroundColor = model.get('textareaColor');\n    textarea.value = result.value;\n  }\n\n  var blockMetaList = result.meta;\n  var buttonContainer = document.createElement('div');\n  buttonContainer.style.cssText = 'position:absolute;bottom:0;left:0;right:0;';\n  var buttonStyle = 'float:right;margin-right:20px;border:none;' + 'cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px';\n  var closeButton = document.createElement('div');\n  var refreshButton = document.createElement('div');\n  buttonStyle += ';background-color:' + model.get('buttonColor');\n  buttonStyle += ';color:' + model.get('buttonTextColor');\n  var self = this;\n\n  function close() {\n    container.removeChild(root);\n    self._dom = null;\n  }\n\n  eventTool.addEventListener(closeButton, 'click', close);\n  eventTool.addEventListener(refreshButton, 'click', function () {\n    var newOption;\n\n    try {\n      if (typeof contentToOption === 'function') {\n        newOption = contentToOption(viewMain, api.getOption());\n      } else {\n        newOption = parseContents(textarea.value, blockMetaList);\n      }\n    } catch (e) {\n      close();\n      throw new Error('Data view format error ' + e);\n    }\n\n    if (newOption) {\n      api.dispatchAction({\n        type: 'changeDataView',\n        newOption: newOption\n      });\n    }\n\n    close();\n  });\n  closeButton.innerHTML = lang[1];\n  refreshButton.innerHTML = lang[2];\n  refreshButton.style.cssText = buttonStyle;\n  closeButton.style.cssText = buttonStyle;\n  !model.get('readOnly') && buttonContainer.appendChild(refreshButton);\n  buttonContainer.appendChild(closeButton);\n  root.appendChild(header);\n  root.appendChild(viewMain);\n  root.appendChild(buttonContainer);\n  viewMain.style.height = container.clientHeight - 80 + 'px';\n  container.appendChild(root);\n  this._dom = root;\n};\n\nDataView.prototype.remove = function (ecModel, api) {\n  this._dom && api.getDom().removeChild(this._dom);\n};\n\nDataView.prototype.dispose = function (ecModel, api) {\n  this.remove(ecModel, api);\n};\n/**\n * @inner\n */\n\n\nfunction tryMergeDataOption(newData, originalData) {\n  return zrUtil.map(newData, function (newVal, idx) {\n    var original = originalData && originalData[idx];\n\n    if (zrUtil.isObject(original) && !zrUtil.isArray(original)) {\n      var newValIsObject = zrUtil.isObject(newVal) && !zrUtil.isArray(newVal);\n\n      if (!newValIsObject) {\n        newVal = {\n          value: newVal\n        };\n      } // original data has name but new data has no name\n\n\n      var shouldDeleteName = original.name != null && newVal.name == null; // Original data has option\n\n      newVal = zrUtil.defaults(newVal, original);\n      shouldDeleteName && delete newVal.name;\n      return newVal;\n    } else {\n      return newVal;\n    }\n  });\n}\n\nfeatureManager.register('dataView', DataView);\necharts.registerAction({\n  type: 'changeDataView',\n  event: 'dataViewChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  var newSeriesOptList = [];\n  zrUtil.each(payload.newOption.series, function (seriesOpt) {\n    var seriesModel = ecModel.getSeriesByName(seriesOpt.name)[0];\n\n    if (!seriesModel) {\n      // New created series\n      // Geuss the series type\n      newSeriesOptList.push(zrUtil.extend({\n        // Default is scatter\n        type: 'scatter'\n      }, seriesOpt));\n    } else {\n      var originalData = seriesModel.get('data');\n      newSeriesOptList.push({\n        name: seriesOpt.name,\n        data: tryMergeDataOption(seriesOpt.data, originalData)\n      });\n    }\n  });\n  ecModel.mergeOption(zrUtil.defaults({\n    series: newSeriesOptList\n  }, payload.newOption));\n});\nvar _default = DataView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\nvar layoutBox = _layout.box;\nvar positionElement = _layout.positionElement;\n\nvar formatUtil = require(\"../../util/format\");\n\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\nfunction layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\n\nfunction makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  var rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  }); // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n\n  return rect;\n}\n\nexports.layout = layout;\nexports.makeBackground = makeBackground;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BrushController = require(\"../../helper/BrushController\");\n\nvar BrushTargetManager = require(\"../../helper/BrushTargetManager\");\n\nvar history = require(\"../../dataZoom/history\");\n\nvar sliderMove = require(\"../../helper/sliderMove\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\nrequire(\"../../dataZoomSelect\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Use dataZoomSelect\nvar dataZoomLang = lang.toolbox.dataZoom;\nvar each = zrUtil.each; // Spectial component id start with \\0ec\\0, see echarts/model/Global.js~hasInnerId\n\nvar DATA_ZOOM_ID_BASE = '\\0_ec_\\0toolbox-dataZoom_';\n\nfunction DataZoom(model, ecModel, api) {\n  /**\n   * @private\n   * @type {module:echarts/component/helper/BrushController}\n   */\n  (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._isZoomActive;\n}\n\nDataZoom.defaultOption = {\n  show: true,\n  filterMode: 'filter',\n  // Icon group\n  icon: {\n    zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',\n    back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'\n  },\n  // `zoom`, `back`\n  title: zrUtil.clone(dataZoomLang.title),\n  brushStyle: {\n    borderWidth: 0,\n    color: 'rgba(0,0,0,0.2)'\n  }\n};\nvar proto = DataZoom.prototype;\n\nproto.render = function (featureModel, ecModel, api, payload) {\n  this.model = featureModel;\n  this.ecModel = ecModel;\n  this.api = api;\n  updateZoomBtnStatus(featureModel, ecModel, this, payload, api);\n  updateBackBtnStatus(featureModel, ecModel);\n};\n\nproto.onclick = function (ecModel, api, type) {\n  handlers[type].call(this);\n};\n\nproto.remove = function (ecModel, api) {\n  this._brushController.unmount();\n};\n\nproto.dispose = function (ecModel, api) {\n  this._brushController.dispose();\n};\n/**\n * @private\n */\n\n\nvar handlers = {\n  zoom: function () {\n    var nextActive = !this._isZoomActive;\n    this.api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'dataZoomSelect',\n      dataZoomSelectActive: nextActive\n    });\n  },\n  back: function () {\n    this._dispatchZoomAction(history.pop(this.ecModel));\n  }\n};\n/**\n * @private\n */\n\nproto._onBrush = function (areas, opt) {\n  if (!opt.isEnd || !areas.length) {\n    return;\n  }\n\n  var snapshot = {};\n  var ecModel = this.ecModel;\n\n  this._brushController.updateCovers([]); // remove cover\n\n\n  var brushTargetManager = new BrushTargetManager(retrieveAxisSetting(this.model.option), ecModel, {\n    include: ['grid']\n  });\n  brushTargetManager.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n    if (coordSys.type !== 'cartesian2d') {\n      return;\n    }\n\n    var brushType = area.brushType;\n\n    if (brushType === 'rect') {\n      setBatch('x', coordSys, coordRange[0]);\n      setBatch('y', coordSys, coordRange[1]);\n    } else {\n      setBatch({\n        lineX: 'x',\n        lineY: 'y'\n      }[brushType], coordSys, coordRange);\n    }\n  });\n  history.push(ecModel, snapshot);\n\n  this._dispatchZoomAction(snapshot);\n\n  function setBatch(dimName, coordSys, minMax) {\n    var axis = coordSys.getAxis(dimName);\n    var axisModel = axis.model;\n    var dataZoomModel = findDataZoom(dimName, axisModel, ecModel); // Restrict range.\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();\n\n    if (minMaxSpan.minValueSpan != null || minMaxSpan.maxValueSpan != null) {\n      minMax = sliderMove(0, minMax.slice(), axis.scale.getExtent(), 0, minMaxSpan.minValueSpan, minMaxSpan.maxValueSpan);\n    }\n\n    dataZoomModel && (snapshot[dataZoomModel.id] = {\n      dataZoomId: dataZoomModel.id,\n      startValue: minMax[0],\n      endValue: minMax[1]\n    });\n  }\n\n  function findDataZoom(dimName, axisModel, ecModel) {\n    var found;\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'select'\n    }, function (dzModel) {\n      var has = dzModel.getAxisModel(dimName, axisModel.componentIndex);\n      has && (found = dzModel);\n    });\n    return found;\n  }\n};\n/**\n * @private\n */\n\n\nproto._dispatchZoomAction = function (snapshot) {\n  var batch = []; // Convert from hash map to array.\n\n  each(snapshot, function (batchItem, dataZoomId) {\n    batch.push(zrUtil.clone(batchItem));\n  });\n  batch.length && this.api.dispatchAction({\n    type: 'dataZoom',\n    from: this.uid,\n    batch: batch\n  });\n};\n\nfunction retrieveAxisSetting(option) {\n  var setting = {}; // Compatible with previous setting: null => all axis, false => no axis.\n\n  zrUtil.each(['xAxisIndex', 'yAxisIndex'], function (name) {\n    setting[name] = option[name];\n    setting[name] == null && (setting[name] = 'all');\n    (setting[name] === false || setting[name] === 'none') && (setting[name] = []);\n  });\n  return setting;\n}\n\nfunction updateBackBtnStatus(featureModel, ecModel) {\n  featureModel.setIconStatus('back', history.count(ecModel) > 1 ? 'emphasis' : 'normal');\n}\n\nfunction updateZoomBtnStatus(featureModel, ecModel, view, payload, api) {\n  var zoomActive = view._isZoomActive;\n\n  if (payload && payload.type === 'takeGlobalCursor') {\n    zoomActive = payload.key === 'dataZoomSelect' ? payload.dataZoomSelectActive : false;\n  }\n\n  view._isZoomActive = zoomActive;\n  featureModel.setIconStatus('zoom', zoomActive ? 'emphasis' : 'normal');\n  var brushTargetManager = new BrushTargetManager(retrieveAxisSetting(featureModel.option), ecModel, {\n    include: ['grid']\n  });\n\n  view._brushController.setPanels(brushTargetManager.makePanelOpts(api, function (targetInfo) {\n    return targetInfo.xAxisDeclared && !targetInfo.yAxisDeclared ? 'lineX' : !targetInfo.xAxisDeclared && targetInfo.yAxisDeclared ? 'lineY' : 'rect';\n  })).enableBrush(zoomActive ? {\n    brushType: 'auto',\n    brushStyle: featureModel.getModel('brushStyle').getItemStyle()\n  } : false);\n}\n\nfeatureManager.register('dataZoom', DataZoom); // Create special dataZoom option for select\n// FIXME consider the case of merge option, where axes options are not exists.\n\necharts.registerPreprocessor(function (option) {\n  if (!option) {\n    return;\n  }\n\n  var dataZoomOpts = option.dataZoom || (option.dataZoom = []);\n\n  if (!zrUtil.isArray(dataZoomOpts)) {\n    option.dataZoom = dataZoomOpts = [dataZoomOpts];\n  }\n\n  var toolboxOpt = option.toolbox;\n\n  if (toolboxOpt) {\n    // Assume there is only one toolbox\n    if (zrUtil.isArray(toolboxOpt)) {\n      toolboxOpt = toolboxOpt[0];\n    }\n\n    if (toolboxOpt && toolboxOpt.feature) {\n      var dataZoomOpt = toolboxOpt.feature.dataZoom; // FIXME: If add dataZoom when setOption in merge mode,\n      // no axis info to be added. See `test/dataZoom-extreme.html`\n\n      addForAxis('xAxis', dataZoomOpt);\n      addForAxis('yAxis', dataZoomOpt);\n    }\n  }\n\n  function addForAxis(axisName, dataZoomOpt) {\n    if (!dataZoomOpt) {\n      return;\n    } // Try not to modify model, because it is not merged yet.\n\n\n    var axisIndicesName = axisName + 'Index';\n    var givenAxisIndices = dataZoomOpt[axisIndicesName];\n\n    if (givenAxisIndices != null && givenAxisIndices !== 'all' && !zrUtil.isArray(givenAxisIndices)) {\n      givenAxisIndices = givenAxisIndices === false || givenAxisIndices === 'none' ? [] : [givenAxisIndices];\n    }\n\n    forEachComponent(axisName, function (axisOpt, axisIndex) {\n      if (givenAxisIndices != null && givenAxisIndices !== 'all' && zrUtil.indexOf(givenAxisIndices, axisIndex) === -1) {\n        return;\n      }\n\n      var newOpt = {\n        type: 'select',\n        $fromToolbox: true,\n        // Default to be filter\n        filterMode: dataZoomOpt.filterMode || 'filter',\n        // Id for merge mapping.\n        id: DATA_ZOOM_ID_BASE + axisName + axisIndex\n      }; // FIXME\n      // Only support one axis now.\n\n      newOpt[axisIndicesName] = axisIndex;\n      dataZoomOpts.push(newOpt);\n    });\n  }\n\n  function forEachComponent(mainType, cb) {\n    var opts = option[mainType];\n\n    if (!zrUtil.isArray(opts)) {\n      opts = opts ? [opts] : [];\n    }\n\n    each(opts, cb);\n  }\n});\nvar _default = DataZoom;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar ComponentView = require(\"../../view/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = ComponentView.extend({\n  type: 'dataZoom',\n  render: function (dataZoomModel, ecModel, api, payload) {\n    this.dataZoomModel = dataZoomModel;\n    this.ecModel = ecModel;\n    this.api = api;\n  },\n\n  /**\n   * Find the first target coordinate system.\n   *\n   * @protected\n   * @return {Object} {\n   *                   grid: [\n   *                       {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n   *                       {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n   *                       ...\n   *                   ],  // cartesians must not be null/undefined.\n   *                   polar: [\n   *                       {model: coord0, axisModels: [axis4], coordIndex: 0},\n   *                       ...\n   *                   ],  // polars must not be null/undefined.\n   *                   singleAxis: [\n   *                       {model: coord0, axisModels: [], coordIndex: 0}\n   *                   ]\n   */\n  getTargetCoordInfo: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var ecModel = this.ecModel;\n    var coordSysLists = {};\n    dataZoomModel.eachTargetAxis(function (dimNames, axisIndex) {\n      var axisModel = ecModel.getComponent(dimNames.axis, axisIndex);\n\n      if (axisModel) {\n        var coordModel = axisModel.getCoordSysModel();\n        coordModel && save(coordModel, axisModel, coordSysLists[coordModel.mainType] || (coordSysLists[coordModel.mainType] = []), coordModel.componentIndex);\n      }\n    }, this);\n\n    function save(coordModel, axisModel, store, coordIndex) {\n      var item;\n\n      for (var i = 0; i < store.length; i++) {\n        if (store[i].model === coordModel) {\n          item = store[i];\n          break;\n        }\n      }\n\n      if (!item) {\n        store.push(item = {\n          model: coordModel,\n          axisModels: [],\n          coordIndex: coordIndex\n        });\n      }\n\n      item.axisModels.push(axisModel);\n    }\n\n    return coordSysLists;\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"../../model/Model\");\n\nvar _model = require(\"../../util/model\");\n\nvar isNameSpecified = _model.isNameSpecified;\n\nvar lang = require(\"../../lang\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar langSelector = lang.legend.selector;\nvar defaultSelectorOption = {\n  all: {\n    type: 'all',\n    title: zrUtil.clone(langSelector.all)\n  },\n  inverse: {\n    type: 'inverse',\n    title: zrUtil.clone(langSelector.inverse)\n  }\n};\nvar LegendModel = echarts.extendComponentModel({\n  type: 'legend.plain',\n  dependencies: ['series'],\n  layoutMode: {\n    type: 'box',\n    // legend.width/height are maxWidth/maxHeight actually,\n    // whereas realy width/height is calculated by its content.\n    // (Setting {left: 10, right: 10} does not make sense).\n    // So consider the case:\n    // `setOption({legend: {left: 10});`\n    // then `setOption({legend: {right: 10});`\n    // The previous `left` should be cleared by setting `ignoreSize`.\n    ignoreSize: true\n  },\n  init: function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n\n    this._updateSelector(option);\n  },\n  mergeOption: function (option) {\n    LegendModel.superCall(this, 'mergeOption', option);\n\n    this._updateSelector(option);\n  },\n  _updateSelector: function (option) {\n    var selector = option.selector;\n\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, defaultSelectorOption[item.type]);\n      });\n    }\n  },\n  optionUpdated: function () {\n    this._updateData(this.ecModel);\n\n    var legendData = this._data; // If selectedMode is single, try to select one\n\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false; // If has any selected in option.selected\n\n      for (var i = 0; i < legendData.length; i++) {\n        var name = legendData[i].get('name');\n\n        if (this.isSelected(name)) {\n          // Force to unselect others\n          this.select(name);\n          hasSelected = true;\n          break;\n        }\n      } // Try select the first if selectedMode is single\n\n\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  },\n  _updateData: function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n\n    this._availableNames = availableNames; // If legend.data not specified in option, use availableNames as data,\n    // which is convinient for user preparing option.\n\n    var rawData = this.get('data') || potentialData;\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n        dataItem = {\n          name: dataItem\n        };\n      }\n\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._data = legendData;\n  },\n\n  /**\n   * @return {Array.<module:echarts/model/Model>}\n   */\n  getData: function () {\n    return this._data;\n  },\n\n  /**\n   * @param {string} name\n   */\n  select: function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n\n    selected[name] = true;\n  },\n\n  /**\n   * @param {string} name\n   */\n  unSelect: function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  },\n\n  /**\n   * @param {string} name\n   */\n  toggleSelected: function (name) {\n    var selected = this.option.selected; // Default is true\n\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  },\n  allSelect: function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  },\n  inverseSelect: function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true); // Initially, default value is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n\n      selected[name] = !selected[name];\n    });\n  },\n\n  /**\n   * @param {string} name\n   */\n  isSelected: function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  },\n  getOrient: function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  },\n  defaultOption: {\n    // \n    zlevel: 0,\n    // \n    z: 4,\n    show: true,\n    // \n    // 'horizontal' | 'vertical'\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    // \n    // 'auto' | 'left' | 'right'\n    //  'auto',  x \n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    // \n    borderColor: '#ccc',\n    borderRadius: 0,\n    // px0\n    borderWidth: 0,\n    // px5\n    // css\n    padding: 5,\n    // itempx10\n    // \n    itemGap: 10,\n    // the width of legend symbol\n    itemWidth: 25,\n    // the height of legend symbol\n    itemHeight: 14,\n    // the color of unselected legend symbol\n    inactiveColor: '#ccc',\n    // the borderColor of unselected legend symbol\n    inactiveBorderColor: '#ccc',\n    itemStyle: {\n      // the default borderWidth of legend symbol\n      borderWidth: 0\n    },\n    textStyle: {\n      // \n      color: '#333'\n    },\n    // formatter: '',\n    // \n    selectedMode: true,\n    // LEGEND.SELECTED\n    // selected: null,\n    // legend.dataitem\n    // data: [],\n    // Usage:\n    // selector: [{type: 'all or inverse', title: xxx}]\n    // or\n    // selector: true\n    // or\n    // selector: ['all', 'inverse']\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: ' sans-serif',\n      color: '#666',\n      borderWidth: 1,\n      borderColor: '#666'\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: '#eee',\n        backgroundColor: '#666'\n      }\n    },\n    // Value can be 'start' or 'end'\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    // Tooltip \n    tooltip: {\n      show: false\n    }\n  }\n});\nvar _default = LegendModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar featureManager = require(\"./featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ToolboxModel = echarts.extendComponentModel({\n  type: 'toolbox',\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n  optionUpdated: function () {\n    ToolboxModel.superApply(this, 'optionUpdated', arguments);\n    zrUtil.each(this.option.feature, function (featureOpt, featureName) {\n      var Feature = featureManager.get(featureName);\n      Feature && zrUtil.merge(featureOpt, Feature.defaultOption);\n    });\n  },\n  defaultOption: {\n    show: true,\n    z: 6,\n    zlevel: 0,\n    orient: 'horizontal',\n    left: 'right',\n    top: 'top',\n    // right\n    // bottom\n    backgroundColor: 'transparent',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemSize: 15,\n    itemGap: 8,\n    showTitle: true,\n    iconStyle: {\n      borderColor: '#666',\n      color: 'none'\n    },\n    emphasis: {\n      iconStyle: {\n        borderColor: '#3E98C5'\n      }\n    },\n    // textStyle: {},\n    // feature\n    tooltip: {\n      show: false\n    }\n  }\n});\nvar _default = ToolboxModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }\n}\n\nmodule.exports = _default;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Header'),_c('div',{staticClass:\"container\"},[_c('BarChart',{attrs:{\"options\":_vm.option1}}),_c('BarChart',{attrs:{\"options\":_vm.option1}}),_c('BarChart',{attrs:{\"options\":_vm.option1}}),_c('BarChart',{attrs:{\"options\":_vm.option1}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('v-chart',{attrs:{\"options\":_vm.option,\"autoresize\":\"\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrapper\">\r\n    <v-chart :options=\"option\" autoresize></v-chart>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Echarts from 'vue-echarts'\r\nimport 'echarts/lib/chart/bar'\r\nimport 'echarts/lib/chart/line'\r\nimport 'echarts/lib/component/legend'\r\nimport 'echarts/lib/component/tooltip'\r\nimport 'echarts/lib/component/axis'\r\nimport 'echarts/lib/component/axisPointer'\r\nimport 'echarts/lib/component/title'\r\nimport 'echarts/lib/component/toolbox'\r\n\r\nexport default {\r\n  name: 'BarChart',\r\n  components: {\r\n    'v-chart': Echarts,\r\n  },\r\n  props: {\r\n    options: {\r\n      type: Object,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      option: this.options,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrapper {\r\n  border-radius: 5px;\r\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);\r\n  margin: 10px;\r\n  padding: 5px 5px;\r\n  width: 48%;\r\n  height: 45vh;\r\n}\r\n.echarts {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BarChart.vue?vue&type=template&id=3cd40bd9&scoped=true&\"\nimport script from \"./BarChart.vue?vue&type=script&lang=js&\"\nexport * from \"./BarChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BarChart.vue?vue&type=style&index=0&id=3cd40bd9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cd40bd9\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <Header></Header>\r\n    <div class=\"container\">\r\n      <BarChart :options=\"option1\"></BarChart>\r\n      <BarChart :options=\"option1\"></BarChart>\r\n      <BarChart :options=\"option1\"></BarChart>\r\n      <BarChart :options=\"option1\"></BarChart>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '../components/Header'\r\nimport BarChart from '../components/BarChart'\r\nexport default {\r\n  name: 'Economy',\r\n  components: {\r\n    Header,\r\n    BarChart,\r\n  },\r\n  data() {\r\n    return {\r\n      option1: {\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'cross',\r\n            crossStyle: {\r\n              color: '#999',\r\n            },\r\n          },\r\n        },\r\n        toolbox: {\r\n          feature: {\r\n            dataView: {\r\n              show: true,\r\n              readOnly: false,\r\n            },\r\n            magicType: {\r\n              show: true,\r\n              type: ['line', 'bar'],\r\n            },\r\n            restore: {\r\n              show: true,\r\n            },\r\n            saveAsImage: {\r\n              show: true,\r\n            },\r\n          },\r\n        },\r\n        legend: {\r\n          data: ['', ''],\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            data: [\r\n              '1',\r\n              '2',\r\n              '3',\r\n              '4',\r\n              '5',\r\n              '6',\r\n              '7',\r\n              '8',\r\n              '9',\r\n              '10',\r\n              '11',\r\n              '12',\r\n            ],\r\n            axisPointer: {\r\n              type: 'shadow',\r\n            },\r\n          },\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value',\r\n            name: '',\r\n            min: 0,\r\n            max: 250,\r\n            interval: 50,\r\n            axisLabel: {\r\n              formatter: '{value} ml',\r\n            },\r\n          },\r\n          {\r\n            type: 'value',\r\n            name: '',\r\n            min: 0,\r\n            max: 25,\r\n            interval: 5,\r\n            axisLabel: {\r\n              formatter: '{value} C',\r\n            },\r\n          },\r\n        ],\r\n        series: [\r\n          {\r\n            name: '',\r\n            type: 'bar',\r\n            data: [\r\n              2.6,\r\n              5.9,\r\n              9.0,\r\n              26.4,\r\n              28.7,\r\n              70.7,\r\n              175.6,\r\n              182.2,\r\n              48.7,\r\n              18.8,\r\n              6.0,\r\n              2.3,\r\n            ],\r\n          },\r\n          {\r\n            name: '',\r\n            type: 'line',\r\n            yAxisIndex: 1,\r\n            data: [\r\n              2.0,\r\n              2.2,\r\n              3.3,\r\n              4.5,\r\n              6.3,\r\n              10.2,\r\n              20.3,\r\n              23.4,\r\n              23.0,\r\n              16.5,\r\n              12.0,\r\n              6.2,\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  created() {},\r\n  mounted() {},\r\n  methods: {},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Economy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Economy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Economy.vue?vue&type=template&id=aeff4bce&scoped=true&\"\nimport script from \"./Economy.vue?vue&type=script&lang=js&\"\nexport * from \"./Economy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Economy.vue?vue&type=style&index=0&id=aeff4bce&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aeff4bce\",\n  null\n  \n)\n\nexport default component.exports","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _barGrid = require(\"../layout/barGrid\");\n\nvar layout = _barGrid.layout;\nvar largeLayout = _barGrid.largeLayout;\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./bar/BarSeries\");\n\nrequire(\"./bar/BarView\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerLayout(echarts.PRIORITY.VISUAL.LAYOUT, zrUtil.curry(layout, 'bar')); // Use higher prority to avoid to be blocked by other overall layout, which do not\n// only exist in this module, but probably also exist in other modules, like `barPolar`.\n\necharts.registerLayout(echarts.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, largeLayout);\necharts.registerVisual({\n  seriesType: 'bar',\n  reset: function (seriesModel) {\n    // Visual coding for legend\n    seriesModel.getData().setVisual('legendSymbol', 'roundRect');\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar helper = require(\"./helper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerAction('dataZoom', function (payload, ecModel) {\n  var linkedNodesFinder = helper.createLinkedNodesFinder(zrUtil.bind(ecModel.eachComponent, ecModel, 'dataZoom'), helper.eachAxisDim, function (model, dimNames) {\n    return model.get(dimNames.axisIndex);\n  });\n  var effectedModels = [];\n  ecModel.eachComponent({\n    mainType: 'dataZoom',\n    query: payload\n  }, function (model, index) {\n    effectedModels.push.apply(effectedModels, linkedNodesFinder(model).nodes);\n  });\n  zrUtil.each(effectedModels, function (dataZoomModel, index) {\n    dataZoomModel.setRawRange({\n      start: payload.start,\n      end: payload.end,\n      startValue: payload.startValue,\n      endValue: payload.endValue\n    });\n  });\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ATTR = '\\0_ec_interaction_mutex';\n\nfunction take(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  store[resourceKey] = userKey;\n}\n\nfunction release(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  var uKey = store[resourceKey];\n\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\n\nfunction isTaken(zr, resourceKey) {\n  return !!getStore(zr)[resourceKey];\n}\n\nfunction getStore(zr) {\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n\n\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, function () {});\nexports.take = take;\nexports.release = release;\nexports.isTaken = isTaken;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./toolbox/ToolboxModel\");\n\nrequire(\"./toolbox/ToolboxView\");\n\nrequire(\"./toolbox/feature/SaveAsImage\");\n\nrequire(\"./toolbox/feature/MagicType\");\n\nrequire(\"./toolbox/feature/DataView\");\n\nrequire(\"./toolbox/feature/DataZoom\");\n\nrequire(\"./toolbox/feature/Restore\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar makeStyleMapper = require(\"../../model/mixin/makeStyleMapper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar getBarItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], // Compatitable with 2\n['stroke', 'barBorderColor'], ['lineWidth', 'barBorderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\nvar _default = {\n  getBarItemStyle: function (excludes) {\n    var style = getBarItemStyle(this, excludes);\n\n    if (this.getBorderLineDash) {\n      var lineDash = this.getBorderLineDash();\n      lineDash && (style.lineDash = lineDash);\n    }\n\n    return style;\n  }\n};\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar brushHelper = require(\"./brushHelper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar indexOf = zrUtil.indexOf;\nvar curry = zrUtil.curry;\nvar COORD_CONVERTS = ['dataToPoint', 'pointToData']; // FIXME\n// how to genarialize to more coordinate systems.\n\nvar INCLUDE_FINDER_MAIN_TYPES = ['grid', 'xAxis', 'yAxis', 'geo', 'graph', 'polar', 'radiusAxis', 'angleAxis', 'bmap'];\n/**\n * [option in constructor]:\n * {\n *     Index/Id/Name of geo, xAxis, yAxis, grid: See util/model#parseFinder.\n * }\n *\n *\n * [targetInfo]:\n *\n * There can be multiple axes in a single targetInfo. Consider the case\n * of `grid` component, a targetInfo represents a grid which contains one or more\n * cartesian and one or more axes. And consider the case of parallel system,\n * which has multiple axes in a coordinate system.\n * Can be {\n *     panelId: ...,\n *     coordSys: <a representitive cartesian in grid (first cartesian by default)>,\n *     coordSyses: all cartesians.\n *     gridModel: <grid component>\n *     xAxes: correspond to coordSyses on index\n *     yAxes: correspond to coordSyses on index\n * }\n * or {\n *     panelId: ...,\n *     coordSys: <geo coord sys>\n *     coordSyses: [<geo coord sys>]\n *     geoModel: <geo component>\n * }\n *\n *\n * [panelOpt]:\n *\n * Make from targetInfo. Input to BrushController.\n * {\n *     panelId: ...,\n *     rect: ...\n * }\n *\n *\n * [area]:\n *\n * Generated by BrushController or user input.\n * {\n *     panelId: Used to locate coordInfo directly. If user inpput, no panelId.\n *     brushType: determine how to convert to/from coord('rect' or 'polygon' or 'lineX/Y').\n *     Index/Id/Name of geo, xAxis, yAxis, grid: See util/model#parseFinder.\n *     range: pixel range.\n *     coordRange: representitive coord range (the first one of coordRanges).\n *     coordRanges: <Array> coord ranges, used in multiple cartesian in one grid.\n * }\n */\n\n/**\n * @param {Object} option contains Index/Id/Name of xAxis/yAxis/geo/grid\n *        Each can be {number|Array.<number>}. like: {xAxisIndex: [3, 4]}\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} [opt]\n * @param {Array.<string>} [opt.include] include coordinate system types.\n */\n\nfunction BrushTargetManager(option, ecModel, opt) {\n  /**\n   * @private\n   * @type {Array.<Object>}\n   */\n  var targetInfoList = this._targetInfoList = [];\n  var info = {};\n  var foundCpts = parseFinder(ecModel, option);\n  each(targetInfoBuilders, function (builder, type) {\n    if (!opt || !opt.include || indexOf(opt.include, type) >= 0) {\n      builder(foundCpts, targetInfoList, info);\n    }\n  });\n}\n\nvar proto = BrushTargetManager.prototype;\n\nproto.setOutputRanges = function (areas, ecModel) {\n  this.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n    (area.coordRanges || (area.coordRanges = [])).push(coordRange); // area.coordRange is the first of area.coordRanges\n\n    if (!area.coordRange) {\n      area.coordRange = coordRange; // In 'category' axis, coord to pixel is not reversible, so we can not\n      // rebuild range by coordRange accrately, which may bring trouble when\n      // brushing only one item. So we use __rangeOffset to rebuilding range\n      // by coordRange. And this it only used in brush component so it is no\n      // need to be adapted to coordRanges.\n\n      var result = coordConvert[area.brushType](0, coordSys, coordRange);\n      area.__rangeOffset = {\n        offset: diffProcessor[area.brushType](result.values, area.range, [1, 1]),\n        xyMinMax: result.xyMinMax\n      };\n    }\n  });\n};\n\nproto.matchOutputRanges = function (areas, ecModel, cb) {\n  each(areas, function (area) {\n    var targetInfo = this.findTargetInfo(area, ecModel);\n\n    if (targetInfo && targetInfo !== true) {\n      zrUtil.each(targetInfo.coordSyses, function (coordSys) {\n        var result = coordConvert[area.brushType](1, coordSys, area.range);\n        cb(area, result.values, coordSys, ecModel);\n      });\n    }\n  }, this);\n};\n\nproto.setInputRanges = function (areas, ecModel) {\n  each(areas, function (area) {\n    var targetInfo = this.findTargetInfo(area, ecModel);\n    area.range = area.range || []; // convert coordRange to global range and set panelId.\n\n    if (targetInfo && targetInfo !== true) {\n      area.panelId = targetInfo.panelId; // (1) area.range shoule always be calculate from coordRange but does\n      // not keep its original value, for the sake of the dataZoom scenario,\n      // where area.coordRange remains unchanged but area.range may be changed.\n      // (2) Only support converting one coordRange to pixel range in brush\n      // component. So do not consider `coordRanges`.\n      // (3) About __rangeOffset, see comment above.\n\n      var result = coordConvert[area.brushType](0, targetInfo.coordSys, area.coordRange);\n      var rangeOffset = area.__rangeOffset;\n      area.range = rangeOffset ? diffProcessor[area.brushType](result.values, rangeOffset.offset, getScales(result.xyMinMax, rangeOffset.xyMinMax)) : result.values;\n    }\n  }, this);\n};\n\nproto.makePanelOpts = function (api, getDefaultBrushType) {\n  return zrUtil.map(this._targetInfoList, function (targetInfo) {\n    var rect = targetInfo.getPanelRect();\n    return {\n      panelId: targetInfo.panelId,\n      defaultBrushType: getDefaultBrushType && getDefaultBrushType(targetInfo),\n      clipPath: brushHelper.makeRectPanelClipPath(rect),\n      isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, targetInfo.coordSysModel),\n      getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect)\n    };\n  });\n};\n\nproto.controlSeries = function (area, seriesModel, ecModel) {\n  // Check whether area is bound in coord, and series do not belong to that coord.\n  // If do not do this check, some brush (like lineX) will controll all axes.\n  var targetInfo = this.findTargetInfo(area, ecModel);\n  return targetInfo === true || targetInfo && indexOf(targetInfo.coordSyses, seriesModel.coordinateSystem) >= 0;\n};\n/**\n * If return Object, a coord found.\n * If reutrn true, global found.\n * Otherwise nothing found.\n *\n * @param {Object} area\n * @param {Array} targetInfoList\n * @return {Object|boolean}\n */\n\n\nproto.findTargetInfo = function (area, ecModel) {\n  var targetInfoList = this._targetInfoList;\n  var foundCpts = parseFinder(ecModel, area);\n\n  for (var i = 0; i < targetInfoList.length; i++) {\n    var targetInfo = targetInfoList[i];\n    var areaPanelId = area.panelId;\n\n    if (areaPanelId) {\n      if (targetInfo.panelId === areaPanelId) {\n        return targetInfo;\n      }\n    } else {\n      for (var i = 0; i < targetInfoMatchers.length; i++) {\n        if (targetInfoMatchers[i](foundCpts, targetInfo)) {\n          return targetInfo;\n        }\n      }\n    }\n  }\n\n  return true;\n};\n\nfunction formatMinMax(minMax) {\n  minMax[0] > minMax[1] && minMax.reverse();\n  return minMax;\n}\n\nfunction parseFinder(ecModel, option) {\n  return modelUtil.parseFinder(ecModel, option, {\n    includeMainTypes: INCLUDE_FINDER_MAIN_TYPES\n  });\n}\n\nvar targetInfoBuilders = {\n  grid: function (foundCpts, targetInfoList) {\n    var xAxisModels = foundCpts.xAxisModels;\n    var yAxisModels = foundCpts.yAxisModels;\n    var gridModels = foundCpts.gridModels; // Remove duplicated.\n\n    var gridModelMap = zrUtil.createHashMap();\n    var xAxesHas = {};\n    var yAxesHas = {};\n\n    if (!xAxisModels && !yAxisModels && !gridModels) {\n      return;\n    }\n\n    each(xAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n    });\n    each(yAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      yAxesHas[gridModel.id] = true;\n    });\n    each(gridModels, function (gridModel) {\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n      yAxesHas[gridModel.id] = true;\n    });\n    gridModelMap.each(function (gridModel) {\n      var grid = gridModel.coordinateSystem;\n      var cartesians = [];\n      each(grid.getCartesians(), function (cartesian, index) {\n        if (indexOf(xAxisModels, cartesian.getAxis('x').model) >= 0 || indexOf(yAxisModels, cartesian.getAxis('y').model) >= 0) {\n          cartesians.push(cartesian);\n        }\n      });\n      targetInfoList.push({\n        panelId: 'grid--' + gridModel.id,\n        gridModel: gridModel,\n        coordSysModel: gridModel,\n        // Use the first one as the representitive coordSys.\n        coordSys: cartesians[0],\n        coordSyses: cartesians,\n        getPanelRect: panelRectBuilder.grid,\n        xAxisDeclared: xAxesHas[gridModel.id],\n        yAxisDeclared: yAxesHas[gridModel.id]\n      });\n    });\n  },\n  geo: function (foundCpts, targetInfoList) {\n    each(foundCpts.geoModels, function (geoModel) {\n      var coordSys = geoModel.coordinateSystem;\n      targetInfoList.push({\n        panelId: 'geo--' + geoModel.id,\n        geoModel: geoModel,\n        coordSysModel: geoModel,\n        coordSys: coordSys,\n        coordSyses: [coordSys],\n        getPanelRect: panelRectBuilder.geo\n      });\n    });\n  }\n};\nvar targetInfoMatchers = [// grid\nfunction (foundCpts, targetInfo) {\n  var xAxisModel = foundCpts.xAxisModel;\n  var yAxisModel = foundCpts.yAxisModel;\n  var gridModel = foundCpts.gridModel;\n  !gridModel && xAxisModel && (gridModel = xAxisModel.axis.grid.model);\n  !gridModel && yAxisModel && (gridModel = yAxisModel.axis.grid.model);\n  return gridModel && gridModel === targetInfo.gridModel;\n}, // geo\nfunction (foundCpts, targetInfo) {\n  var geoModel = foundCpts.geoModel;\n  return geoModel && geoModel === targetInfo.geoModel;\n}];\nvar panelRectBuilder = {\n  grid: function () {\n    // grid is not Transformable.\n    return this.coordSys.grid.getRect().clone();\n  },\n  geo: function () {\n    var coordSys = this.coordSys;\n    var rect = coordSys.getBoundingRect().clone(); // geo roam and zoom transform\n\n    rect.applyTransform(graphic.getTransform(coordSys));\n    return rect;\n  }\n};\nvar coordConvert = {\n  lineX: curry(axisConvert, 0),\n  lineY: curry(axisConvert, 1),\n  rect: function (to, coordSys, rangeOrCoordRange) {\n    var xminymin = coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]]);\n    var xmaxymax = coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]]);\n    var values = [formatMinMax([xminymin[0], xmaxymax[0]]), formatMinMax([xminymin[1], xmaxymax[1]])];\n    return {\n      values: values,\n      xyMinMax: values\n    };\n  },\n  polygon: function (to, coordSys, rangeOrCoordRange) {\n    var xyMinMax = [[Infinity, -Infinity], [Infinity, -Infinity]];\n    var values = zrUtil.map(rangeOrCoordRange, function (item) {\n      var p = coordSys[COORD_CONVERTS[to]](item);\n      xyMinMax[0][0] = Math.min(xyMinMax[0][0], p[0]);\n      xyMinMax[1][0] = Math.min(xyMinMax[1][0], p[1]);\n      xyMinMax[0][1] = Math.max(xyMinMax[0][1], p[0]);\n      xyMinMax[1][1] = Math.max(xyMinMax[1][1], p[1]);\n      return p;\n    });\n    return {\n      values: values,\n      xyMinMax: xyMinMax\n    };\n  }\n};\n\nfunction axisConvert(axisNameIndex, to, coordSys, rangeOrCoordRange) {\n  var axis = coordSys.getAxis(['x', 'y'][axisNameIndex]);\n  var values = formatMinMax(zrUtil.map([0, 1], function (i) {\n    return to ? axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i])) : axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]));\n  }));\n  var xyMinMax = [];\n  xyMinMax[axisNameIndex] = values;\n  xyMinMax[1 - axisNameIndex] = [NaN, NaN];\n  return {\n    values: values,\n    xyMinMax: xyMinMax\n  };\n}\n\nvar diffProcessor = {\n  lineX: curry(axisDiffProcessor, 0),\n  lineY: curry(axisDiffProcessor, 1),\n  rect: function (values, refer, scales) {\n    return [[values[0][0] - scales[0] * refer[0][0], values[0][1] - scales[0] * refer[0][1]], [values[1][0] - scales[1] * refer[1][0], values[1][1] - scales[1] * refer[1][1]]];\n  },\n  polygon: function (values, refer, scales) {\n    return zrUtil.map(values, function (item, idx) {\n      return [item[0] - scales[0] * refer[idx][0], item[1] - scales[1] * refer[idx][1]];\n    });\n  }\n};\n\nfunction axisDiffProcessor(axisNameIndex, values, refer, scales) {\n  return [values[0] - scales[axisNameIndex] * refer[0], values[1] - scales[axisNameIndex] * refer[1]];\n} // We have to process scale caused by dataZoom manually,\n// although it might be not accurate.\n\n\nfunction getScales(xyMinMaxCurr, xyMinMaxOrigin) {\n  var sizeCurr = getSize(xyMinMaxCurr);\n  var sizeOrigin = getSize(xyMinMaxOrigin);\n  var scales = [sizeCurr[0] / sizeOrigin[0], sizeCurr[1] / sizeOrigin[1]];\n  isNaN(scales[0]) && (scales[0] = 1);\n  isNaN(scales[1]) && (scales[1] = 1);\n  return scales;\n}\n\nfunction getSize(xyMinMax) {\n  return xyMinMax ? [xyMinMax[0][1] - xyMinMax[0][0], xyMinMax[1][1] - xyMinMax[1][0]] : [NaN, NaN];\n}\n\nvar _default = BrushTargetManager;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _graphic = require(\"../graphic\");\n\nvar extendShape = _graphic.extendShape;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Sausage: similar to sector, but have half circle on both sides\n * @public\n */\nvar _default = extendShape({\n  type: 'sausage',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r0: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r0 = Math.max(shape.r0 || 0, 0);\n    var r = Math.max(shape.r, 0);\n    var dr = (r - r0) * 0.5;\n    var rCenter = r0 + dr;\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitStartX = Math.cos(startAngle);\n    var unitStartY = Math.sin(startAngle);\n    var unitEndX = Math.cos(endAngle);\n    var unitEndY = Math.sin(endAngle);\n    var lessThanCircle = clockwise ? endAngle - startAngle < Math.PI * 2 : startAngle - endAngle < Math.PI * 2;\n\n    if (lessThanCircle) {\n      ctx.moveTo(unitStartX * r0 + x, unitStartY * r0 + y);\n      ctx.arc(unitStartX * rCenter + x, unitStartY * rCenter + y, dr, -Math.PI + startAngle, startAngle, !clockwise);\n    }\n\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    ctx.moveTo(unitEndX * r + x, unitEndY * r + y);\n    ctx.arc(unitEndX * rCenter + x, unitEndY * rCenter + y, dr, endAngle - Math.PI * 2, endAngle - Math.PI, !clockwise);\n\n    if (r0 !== 0) {\n      ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n      ctx.moveTo(unitStartX * r0 + x, unitEndY * r0 + y);\n    }\n\n    ctx.closePath();\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar IRRELEVANT_EXCLUDES = {\n  'axisPointer': 1,\n  'tooltip': 1,\n  'brush': 1\n};\n/**\n * Avoid that: mouse click on a elements that is over geo or graph,\n * but roam is triggered.\n */\n\nfunction onIrrelevantElement(e, api, targetCoordSysModel) {\n  var model = api.getComponentByElement(e.topTarget); // If model is axisModel, it works only if it is injected with coordinateSystem.\n\n  var coordSys = model && model.coordinateSystem;\n  return model && model !== targetCoordSysModel && !IRRELEVANT_EXCLUDES[model.mainType] && coordSys && coordSys.model !== targetCoordSysModel;\n}\n\nexports.onIrrelevantElement = onIrrelevantElement;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar helper = require(\"./helper\");\n\nvar sliderMove = require(\"../helper/sliderMove\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n *\n * @class\n */\n\nvar AxisProxy = function (dimName, axisIndex, dataZoomModel, ecModel) {\n  /**\n   * @private\n   * @type {string}\n   */\n  this._dimName = dimName;\n  /**\n   * @private\n   */\n\n  this._axisIndex = axisIndex;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._valueWindow;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._percentWindow;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._dataExtent;\n  /**\n   * {minSpan, maxSpan, minValueSpan, maxValueSpan}\n   * @private\n   * @type {Object}\n   */\n\n  this._minMaxSpan;\n  /**\n   * @readOnly\n   * @type {module: echarts/model/Global}\n   */\n\n  this.ecModel = ecModel;\n  /**\n   * @private\n   * @type {module: echarts/component/dataZoom/DataZoomModel}\n   */\n\n  this._dataZoomModel = dataZoomModel; // /**\n  //  * @readOnly\n  //  * @private\n  //  */\n  // this.hasSeriesStacked;\n};\n\nAxisProxy.prototype = {\n  constructor: AxisProxy,\n\n  /**\n   * Whether the axisProxy is hosted by dataZoomModel.\n   *\n   * @public\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   * @return {boolean}\n   */\n  hostedBy: function (dataZoomModel) {\n    return this._dataZoomModel === dataZoomModel;\n  },\n\n  /**\n   * @return {Array.<number>} Value can only be NaN or finite value.\n   */\n  getDataValueWindow: function () {\n    return this._valueWindow.slice();\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getDataPercentWindow: function () {\n    return this._percentWindow.slice();\n  },\n\n  /**\n   * @public\n   * @param {number} axisIndex\n   * @return {Array} seriesModels\n   */\n  getTargetSeriesModels: function () {\n    var seriesModels = [];\n    var ecModel = this.ecModel;\n    ecModel.eachSeries(function (seriesModel) {\n      if (helper.isCoordSupported(seriesModel.get('coordinateSystem'))) {\n        var dimName = this._dimName;\n        var axisModel = ecModel.queryComponents({\n          mainType: dimName + 'Axis',\n          index: seriesModel.get(dimName + 'AxisIndex'),\n          id: seriesModel.get(dimName + 'AxisId')\n        })[0];\n\n        if (this._axisIndex === (axisModel && axisModel.componentIndex)) {\n          seriesModels.push(seriesModel);\n        }\n      }\n    }, this);\n    return seriesModels;\n  },\n  getAxisModel: function () {\n    return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n  },\n  getOtherAxisModel: function () {\n    var axisDim = this._dimName;\n    var ecModel = this.ecModel;\n    var axisModel = this.getAxisModel();\n    var isCartesian = axisDim === 'x' || axisDim === 'y';\n    var otherAxisDim;\n    var coordSysIndexName;\n\n    if (isCartesian) {\n      coordSysIndexName = 'gridIndex';\n      otherAxisDim = axisDim === 'x' ? 'y' : 'x';\n    } else {\n      coordSysIndexName = 'polarIndex';\n      otherAxisDim = axisDim === 'angle' ? 'radius' : 'angle';\n    }\n\n    var foundOtherAxisModel;\n    ecModel.eachComponent(otherAxisDim + 'Axis', function (otherAxisModel) {\n      if ((otherAxisModel.get(coordSysIndexName) || 0) === (axisModel.get(coordSysIndexName) || 0)) {\n        foundOtherAxisModel = otherAxisModel;\n      }\n    });\n    return foundOtherAxisModel;\n  },\n  getMinMaxSpan: function () {\n    return zrUtil.clone(this._minMaxSpan);\n  },\n\n  /**\n   * Only calculate by given range and this._dataExtent, do not change anything.\n   *\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   */\n  calculateDataWindow: function (opt) {\n    var dataExtent = this._dataExtent;\n    var axisModel = this.getAxisModel();\n    var scale = axisModel.axis.scale;\n\n    var rangePropMode = this._dataZoomModel.getRangePropMode();\n\n    var percentExtent = [0, 100];\n    var percentWindow = [];\n    var valueWindow = [];\n    var hasPropModeValue;\n    each(['start', 'end'], function (prop, idx) {\n      var boundPercent = opt[prop];\n      var boundValue = opt[prop + 'Value']; // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n      // on `valueProp` ('startValue', 'endValue'). (They are based on the data extent\n      // but not min/max of axis, which will be calculated by data window then).\n      // The former one is suitable for cases that a dataZoom component controls multiple\n      // axes with different unit or extent, and the latter one is suitable for accurate\n      // zoom by pixel (e.g., in dataZoomSelect).\n      // we use `getRangePropMode()` to mark which prop is used. `rangePropMode` is updated\n      // only when setOption or dispatchAction, otherwise it remains its original value.\n      // (Why not only record `percentProp` and always map to `valueProp`? Because\n      // the map `valueProp` -> `percentProp` -> `valueProp` probably not the original\n      // `valueProp`. consider two axes constrolled by one dataZoom. They have different\n      // data extent. All of values that are overflow the `dataExtent` will be calculated\n      // to percent '100%').\n\n      if (rangePropMode[idx] === 'percent') {\n        boundPercent == null && (boundPercent = percentExtent[idx]); // Use scale.parse to math round for category or time axis.\n\n        boundValue = scale.parse(numberUtil.linearMap(boundPercent, percentExtent, dataExtent));\n      } else {\n        hasPropModeValue = true;\n        boundValue = boundValue == null ? dataExtent[idx] : scale.parse(boundValue); // Calculating `percent` from `value` may be not accurate, because\n        // This calculation can not be inversed, because all of values that\n        // are overflow the `dataExtent` will be calculated to percent '100%'\n\n        boundPercent = numberUtil.linearMap(boundValue, dataExtent, percentExtent);\n      } // valueWindow[idx] = round(boundValue);\n      // percentWindow[idx] = round(boundPercent);\n\n\n      valueWindow[idx] = boundValue;\n      percentWindow[idx] = boundPercent;\n    });\n    asc(valueWindow);\n    asc(percentWindow); // The windows from user calling of `dispatchAction` might be out of the extent,\n    // or do not obey the `min/maxSpan`, `min/maxValueSpan`. But we dont restrict window\n    // by `zoomLock` here, because we see `zoomLock` just as a interaction constraint,\n    // where API is able to initialize/modify the window size even though `zoomLock`\n    // specified.\n\n    var spans = this._minMaxSpan;\n    hasPropModeValue ? restrictSet(valueWindow, percentWindow, dataExtent, percentExtent, false) : restrictSet(percentWindow, valueWindow, percentExtent, dataExtent, true);\n\n    function restrictSet(fromWindow, toWindow, fromExtent, toExtent, toValue) {\n      var suffix = toValue ? 'Span' : 'ValueSpan';\n      sliderMove(0, fromWindow, fromExtent, 'all', spans['min' + suffix], spans['max' + suffix]);\n\n      for (var i = 0; i < 2; i++) {\n        toWindow[i] = numberUtil.linearMap(fromWindow[i], fromExtent, toExtent, true);\n        toValue && (toWindow[i] = scale.parse(toWindow[i]));\n      }\n    }\n\n    return {\n      valueWindow: valueWindow,\n      percentWindow: percentWindow\n    };\n  },\n\n  /**\n   * Notice: reset should not be called before series.restoreData() called,\n   * so it is recommanded to be called in \"process stage\" but not \"model init\n   * stage\".\n   *\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  reset: function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var targetSeries = this.getTargetSeriesModels(); // Culculate data window and data extent, and record them.\n\n    this._dataExtent = calculateDataExtent(this, this._dimName, targetSeries); // this.hasSeriesStacked = false;\n    // each(targetSeries, function (series) {\n    // var data = series.getData();\n    // var dataDim = data.mapDimension(this._dimName);\n    // var stackedDimension = data.getCalculationInfo('stackedDimension');\n    // if (stackedDimension && stackedDimension === dataDim) {\n    // this.hasSeriesStacked = true;\n    // }\n    // }, this);\n    // `calculateDataWindow` uses min/maxSpan.\n\n    setMinMaxSpan(this);\n    var dataWindow = this.calculateDataWindow(dataZoomModel.settledOption);\n    this._valueWindow = dataWindow.valueWindow;\n    this._percentWindow = dataWindow.percentWindow; // Update axis setting then.\n\n    setAxisModel(this);\n  },\n\n  /**\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  restore: function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    this._valueWindow = this._percentWindow = null;\n    setAxisModel(this, true);\n  },\n\n  /**\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  filterData: function (dataZoomModel, api) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var axisDim = this._dimName;\n    var seriesModels = this.getTargetSeriesModels();\n    var filterMode = dataZoomModel.get('filterMode');\n    var valueWindow = this._valueWindow;\n\n    if (filterMode === 'none') {\n      return;\n    } // FIXME\n    // Toolbox may has dataZoom injected. And if there are stacked bar chart\n    // with NaN data, NaN will be filtered and stack will be wrong.\n    // So we need to force the mode to be set empty.\n    // In fect, it is not a big deal that do not support filterMode-'filter'\n    // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n    // selection\" some day, which might need \"adapt to data extent on the\n    // otherAxis\", which is disabled by filterMode-'empty'.\n    // But currently, stack has been fixed to based on value but not index,\n    // so this is not an issue any more.\n    // var otherAxisModel = this.getOtherAxisModel();\n    // if (dataZoomModel.get('$fromToolbox')\n    //     && otherAxisModel\n    //     && otherAxisModel.hasSeriesStacked\n    // ) {\n    //     filterMode = 'empty';\n    // }\n    // TODO\n    // filterMode 'weakFilter' and 'empty' is not optimized for huge data yet.\n\n\n    each(seriesModels, function (seriesModel) {\n      var seriesData = seriesModel.getData();\n      var dataDims = seriesData.mapDimension(axisDim, true);\n\n      if (!dataDims.length) {\n        return;\n      }\n\n      if (filterMode === 'weakFilter') {\n        seriesData.filterSelf(function (dataIndex) {\n          var leftOut;\n          var rightOut;\n          var hasValue;\n\n          for (var i = 0; i < dataDims.length; i++) {\n            var value = seriesData.get(dataDims[i], dataIndex);\n            var thisHasValue = !isNaN(value);\n            var thisLeftOut = value < valueWindow[0];\n            var thisRightOut = value > valueWindow[1];\n\n            if (thisHasValue && !thisLeftOut && !thisRightOut) {\n              return true;\n            }\n\n            thisHasValue && (hasValue = true);\n            thisLeftOut && (leftOut = true);\n            thisRightOut && (rightOut = true);\n          } // If both left out and right out, do not filter.\n\n\n          return hasValue && leftOut && rightOut;\n        });\n      } else {\n        each(dataDims, function (dim) {\n          if (filterMode === 'empty') {\n            seriesModel.setData(seriesData = seriesData.map(dim, function (value) {\n              return !isInWindow(value) ? NaN : value;\n            }));\n          } else {\n            var range = {};\n            range[dim] = valueWindow; // console.time('select');\n\n            seriesData.selectRange(range); // console.timeEnd('select');\n          }\n        });\n      }\n\n      each(dataDims, function (dim) {\n        seriesData.setApproximateExtent(valueWindow, dim);\n      });\n    });\n\n    function isInWindow(value) {\n      return value >= valueWindow[0] && value <= valueWindow[1];\n    }\n  }\n};\n\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n  var dataExtent = [Infinity, -Infinity];\n  each(seriesModels, function (seriesModel) {\n    var seriesData = seriesModel.getData();\n\n    if (seriesData) {\n      each(seriesData.mapDimension(axisDim, true), function (dim) {\n        var seriesExtent = seriesData.getApproximateExtent(dim);\n        seriesExtent[0] < dataExtent[0] && (dataExtent[0] = seriesExtent[0]);\n        seriesExtent[1] > dataExtent[1] && (dataExtent[1] = seriesExtent[1]);\n      });\n    }\n  });\n\n  if (dataExtent[1] < dataExtent[0]) {\n    dataExtent = [NaN, NaN];\n  } // It is important to get \"consistent\" extent when more then one axes is\n  // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n  // when zooming. But it is difficult to know what is \"consistent\", considering\n  // axes have different type or even different meanings (For example, two\n  // time axes are used to compare data of the same date in different years).\n  // So basically dataZoom just obtains extent by series.data (in category axis\n  // extent can be obtained from axis.data).\n  // Nevertheless, user can set min/max/scale on axes to make extent of axes\n  // consistent.\n\n\n  fixExtentByAxis(axisProxy, dataExtent);\n  return dataExtent;\n}\n\nfunction fixExtentByAxis(axisProxy, dataExtent) {\n  var axisModel = axisProxy.getAxisModel();\n  var min = axisModel.getMin(true); // For category axis, if min/max/scale are not set, extent is determined\n  // by axis.data by default.\n\n  var isCategoryAxis = axisModel.get('type') === 'category';\n  var axisDataLen = isCategoryAxis && axisModel.getCategories().length;\n\n  if (min != null && min !== 'dataMin' && typeof min !== 'function') {\n    dataExtent[0] = min;\n  } else if (isCategoryAxis) {\n    dataExtent[0] = axisDataLen > 0 ? 0 : NaN;\n  }\n\n  var max = axisModel.getMax(true);\n\n  if (max != null && max !== 'dataMax' && typeof max !== 'function') {\n    dataExtent[1] = max;\n  } else if (isCategoryAxis) {\n    dataExtent[1] = axisDataLen > 0 ? axisDataLen - 1 : NaN;\n  }\n\n  if (!axisModel.get('scale', true)) {\n    dataExtent[0] > 0 && (dataExtent[0] = 0);\n    dataExtent[1] < 0 && (dataExtent[1] = 0);\n  } // For value axis, if min/max/scale are not set, we just use the extent obtained\n  // by series data, which may be a little different from the extent calculated by\n  // `axisHelper.getScaleExtent`. But the different just affects the experience a\n  // little when zooming. So it will not be fixed until some users require it strongly.\n\n\n  return dataExtent;\n}\n\nfunction setAxisModel(axisProxy, isRestore) {\n  var axisModel = axisProxy.getAxisModel();\n  var percentWindow = axisProxy._percentWindow;\n  var valueWindow = axisProxy._valueWindow;\n\n  if (!percentWindow) {\n    return;\n  } // [0, 500]: arbitrary value, guess axis extent.\n\n\n  var precision = numberUtil.getPixelPrecision(valueWindow, [0, 500]);\n  precision = Math.min(precision, 20); // isRestore or isFull\n\n  var useOrigin = isRestore || percentWindow[0] === 0 && percentWindow[1] === 100;\n  axisModel.setRange(useOrigin ? null : +valueWindow[0].toFixed(precision), useOrigin ? null : +valueWindow[1].toFixed(precision));\n}\n\nfunction setMinMaxSpan(axisProxy) {\n  var minMaxSpan = axisProxy._minMaxSpan = {};\n  var dataZoomModel = axisProxy._dataZoomModel;\n  var dataExtent = axisProxy._dataExtent;\n  each(['min', 'max'], function (minMax) {\n    var percentSpan = dataZoomModel.get(minMax + 'Span');\n    var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n    valueSpan != null && (valueSpan = axisProxy.getAxisModel().axis.scale.parse(valueSpan)); // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n\n    if (valueSpan != null) {\n      percentSpan = numberUtil.linearMap(dataExtent[0] + valueSpan, dataExtent, [0, 100], true);\n    } else if (percentSpan != null) {\n      valueSpan = numberUtil.linearMap(percentSpan, [0, 100], dataExtent, true) - dataExtent[0];\n    }\n\n    minMaxSpan[minMax + 'Span'] = percentSpan;\n    minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n  });\n}\n\nvar _default = AxisProxy;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./legend/LegendModel\");\n\nrequire(\"./legend/legendAction\");\n\nrequire(\"./legend/LegendView\");\n\nvar legendFilter = require(\"./legend/legendFilter\");\n\nvar Component = require(\"../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Do not contain scrollable legend, for sake of file size.\n// Series Filter\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\nComponent.registerSubTypeDefaulter('legend', function () {\n  // Default 'plain' when no type specified.\n  return 'plain';\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar magicTypeLang = lang.toolbox.magicType;\nvar INNER_STACK_KEYWORD = '__ec_magicType_stack__';\n\nfunction MagicType(model) {\n  this.model = model;\n}\n\nMagicType.defaultOption = {\n  show: true,\n  type: [],\n  // Icon group\n  icon: {\n    /* eslint-disable */\n    line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4',\n    bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7',\n    stack: 'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z' // jshint ignore:line\n\n    /* eslint-enable */\n\n  },\n  // `line`, `bar`, `stack`, `tiled`\n  title: zrUtil.clone(magicTypeLang.title),\n  option: {},\n  seriesIndex: {}\n};\nvar proto = MagicType.prototype;\n\nproto.getIcons = function () {\n  var model = this.model;\n  var availableIcons = model.get('icon');\n  var icons = {};\n  zrUtil.each(model.get('type'), function (type) {\n    if (availableIcons[type]) {\n      icons[type] = availableIcons[type];\n    }\n  });\n  return icons;\n};\n\nvar seriesOptGenreator = {\n  'line': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'line',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get('option.line') || {}, true);\n    }\n  },\n  'bar': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'bar',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get('option.bar') || {}, true);\n    }\n  },\n  'stack': function (seriesType, seriesId, seriesModel, model) {\n    var isStack = seriesModel.get('stack') === INNER_STACK_KEYWORD;\n\n    if (seriesType === 'line' || seriesType === 'bar') {\n      model.setIconStatus('stack', isStack ? 'normal' : 'emphasis');\n      return zrUtil.merge({\n        id: seriesId,\n        stack: isStack ? '' : INNER_STACK_KEYWORD\n      }, model.get('option.stack') || {}, true);\n    }\n  }\n};\nvar radioTypes = [['line', 'bar'], ['stack']];\n\nproto.onclick = function (ecModel, api, type) {\n  var model = this.model;\n  var seriesIndex = model.get('seriesIndex.' + type); // Not supported magicType\n\n  if (!seriesOptGenreator[type]) {\n    return;\n  }\n\n  var newOption = {\n    series: []\n  };\n\n  var generateNewSeriesTypes = function (seriesModel) {\n    var seriesType = seriesModel.subType;\n    var seriesId = seriesModel.id;\n    var newSeriesOpt = seriesOptGenreator[type](seriesType, seriesId, seriesModel, model);\n\n    if (newSeriesOpt) {\n      // PENDING If merge original option?\n      zrUtil.defaults(newSeriesOpt, seriesModel.option);\n      newOption.series.push(newSeriesOpt);\n    } // Modify boundaryGap\n\n\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.type === 'cartesian2d' && (type === 'line' || type === 'bar')) {\n      var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n      if (categoryAxis) {\n        var axisDim = categoryAxis.dim;\n        var axisType = axisDim + 'Axis';\n        var axisModel = ecModel.queryComponents({\n          mainType: axisType,\n          index: seriesModel.get(name + 'Index'),\n          id: seriesModel.get(name + 'Id')\n        })[0];\n        var axisIndex = axisModel.componentIndex;\n        newOption[axisType] = newOption[axisType] || [];\n\n        for (var i = 0; i <= axisIndex; i++) {\n          newOption[axisType][axisIndex] = newOption[axisType][axisIndex] || {};\n        }\n\n        newOption[axisType][axisIndex].boundaryGap = type === 'bar';\n      }\n    }\n  };\n\n  zrUtil.each(radioTypes, function (radio) {\n    if (zrUtil.indexOf(radio, type) >= 0) {\n      zrUtil.each(radio, function (item) {\n        model.setIconStatus(item, 'normal');\n      });\n    }\n  });\n  model.setIconStatus(type, 'emphasis');\n  ecModel.eachComponent({\n    mainType: 'series',\n    query: seriesIndex == null ? null : {\n      seriesIndex: seriesIndex\n    }\n  }, generateNewSeriesTypes);\n  var newTitle; // Change title of stack\n\n  if (type === 'stack') {\n    var isStack = newOption.series && newOption.series[0] && newOption.series[0].stack === INNER_STACK_KEYWORD;\n    newTitle = isStack ? zrUtil.merge({\n      stack: magicTypeLang.title.tiled\n    }, magicTypeLang.title) : zrUtil.clone(magicTypeLang.title);\n  }\n\n  api.dispatchAction({\n    type: 'changeMagicType',\n    currentType: type,\n    newOption: newOption,\n    newTitle: newTitle,\n    featureName: 'magicType'\n  });\n};\n\necharts.registerAction({\n  type: 'changeMagicType',\n  event: 'magicTypeChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.mergeOption(payload.newOption);\n});\nfeatureManager.register('magicType', MagicType);\nvar _default = MagicType;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar featureManager = require(\"./featureManager\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Model = require(\"../../model/Model\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\nvar listComponentHelper = require(\"../helper/listComponent\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentView({\n  type: 'toolbox',\n  render: function (toolboxModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n\n    if (!toolboxModel.get('show')) {\n      return;\n    }\n\n    var itemSize = +toolboxModel.get('itemSize');\n    var featureOpts = toolboxModel.get('feature') || {};\n    var features = this._features || (this._features = {});\n    var featureNames = [];\n    zrUtil.each(featureOpts, function (opt, name) {\n      featureNames.push(name);\n    });\n    new DataDiffer(this._featureNames || [], featureNames).add(processFeature).update(processFeature).remove(zrUtil.curry(processFeature, null)).execute(); // Keep for diff.\n\n    this._featureNames = featureNames;\n\n    function processFeature(newIndex, oldIndex) {\n      var featureName = featureNames[newIndex];\n      var oldName = featureNames[oldIndex];\n      var featureOpt = featureOpts[featureName];\n      var featureModel = new Model(featureOpt, toolboxModel, toolboxModel.ecModel);\n      var feature; // FIX#11236, merge feature title from MagicType newOption. TODO: consider seriesIndex ?\n\n      if (payload && payload.newTitle != null && payload.featureName === featureName) {\n        featureOpt.title = payload.newTitle;\n      }\n\n      if (featureName && !oldName) {\n        // Create\n        if (isUserFeatureName(featureName)) {\n          feature = {\n            model: featureModel,\n            onclick: featureModel.option.onclick,\n            featureName: featureName\n          };\n        } else {\n          var Feature = featureManager.get(featureName);\n\n          if (!Feature) {\n            return;\n          }\n\n          feature = new Feature(featureModel, ecModel, api);\n        }\n\n        features[featureName] = feature;\n      } else {\n        feature = features[oldName]; // If feature does not exsit.\n\n        if (!feature) {\n          return;\n        }\n\n        feature.model = featureModel;\n        feature.ecModel = ecModel;\n        feature.api = api;\n      }\n\n      if (!featureName && oldName) {\n        feature.dispose && feature.dispose(ecModel, api);\n        return;\n      }\n\n      if (!featureModel.get('show') || feature.unusable) {\n        feature.remove && feature.remove(ecModel, api);\n        return;\n      }\n\n      createIconPaths(featureModel, feature, featureName);\n\n      featureModel.setIconStatus = function (iconName, status) {\n        var option = this.option;\n        var iconPaths = this.iconPaths;\n        option.iconStatus = option.iconStatus || {};\n        option.iconStatus[iconName] = status; // FIXME\n\n        iconPaths[iconName] && iconPaths[iconName].trigger(status);\n      };\n\n      if (feature.render) {\n        feature.render(featureModel, ecModel, api, payload);\n      }\n    }\n\n    function createIconPaths(featureModel, feature, featureName) {\n      var iconStyleModel = featureModel.getModel('iconStyle');\n      var iconStyleEmphasisModel = featureModel.getModel('emphasis.iconStyle'); // If one feature has mutiple icon. they are orginaized as\n      // {\n      //     icon: {\n      //         foo: '',\n      //         bar: ''\n      //     },\n      //     title: {\n      //         foo: '',\n      //         bar: ''\n      //     }\n      // }\n\n      var icons = feature.getIcons ? feature.getIcons() : featureModel.get('icon');\n      var titles = featureModel.get('title') || {};\n\n      if (typeof icons === 'string') {\n        var icon = icons;\n        var title = titles;\n        icons = {};\n        titles = {};\n        icons[featureName] = icon;\n        titles[featureName] = title;\n      }\n\n      var iconPaths = featureModel.iconPaths = {};\n      zrUtil.each(icons, function (iconStr, iconName) {\n        var path = graphic.createIcon(iconStr, {}, {\n          x: -itemSize / 2,\n          y: -itemSize / 2,\n          width: itemSize,\n          height: itemSize\n        });\n        path.setStyle(iconStyleModel.getItemStyle());\n        path.hoverStyle = iconStyleEmphasisModel.getItemStyle(); // Text position calculation\n\n        path.setStyle({\n          text: titles[iconName],\n          textAlign: iconStyleEmphasisModel.get('textAlign'),\n          textBorderRadius: iconStyleEmphasisModel.get('textBorderRadius'),\n          textPadding: iconStyleEmphasisModel.get('textPadding'),\n          textFill: null\n        });\n        var tooltipModel = toolboxModel.getModel('tooltip');\n\n        if (tooltipModel && tooltipModel.get('show')) {\n          path.attr('tooltip', zrUtil.extend({\n            content: titles[iconName],\n            formatter: tooltipModel.get('formatter', true) || function () {\n              return titles[iconName];\n            },\n            formatterParams: {\n              componentType: 'toolbox',\n              name: iconName,\n              title: titles[iconName],\n              $vars: ['name', 'title']\n            },\n            position: tooltipModel.get('position', true) || 'bottom'\n          }, tooltipModel.option));\n        }\n\n        graphic.setHoverStyle(path);\n\n        if (toolboxModel.get('showTitle')) {\n          path.__title = titles[iconName];\n          path.on('mouseover', function () {\n            // Should not reuse above hoverStyle, which might be modified.\n            var hoverStyle = iconStyleEmphasisModel.getItemStyle();\n            var defaultTextPosition = toolboxModel.get('orient') === 'vertical' ? toolboxModel.get('right') == null ? 'right' : 'left' : toolboxModel.get('bottom') == null ? 'bottom' : 'top';\n            path.setStyle({\n              textFill: iconStyleEmphasisModel.get('textFill') || hoverStyle.fill || hoverStyle.stroke || '#000',\n              textBackgroundColor: iconStyleEmphasisModel.get('textBackgroundColor'),\n              textPosition: iconStyleEmphasisModel.get('textPosition') || defaultTextPosition\n            });\n          }).on('mouseout', function () {\n            path.setStyle({\n              textFill: null,\n              textBackgroundColor: null\n            });\n          });\n        }\n\n        path.trigger(featureModel.get('iconStatus.' + iconName) || 'normal');\n        group.add(path);\n        path.on('click', zrUtil.bind(feature.onclick, feature, ecModel, api, iconName));\n        iconPaths[iconName] = path;\n      });\n    }\n\n    listComponentHelper.layout(group, toolboxModel, api); // Render background after group is layout\n    // FIXME\n\n    group.add(listComponentHelper.makeBackground(group.getBoundingRect(), toolboxModel)); // Adjust icon title positions to avoid them out of screen\n\n    group.eachChild(function (icon) {\n      var titleText = icon.__title;\n      var hoverStyle = icon.hoverStyle; // May be background element\n\n      if (hoverStyle && titleText) {\n        var rect = textContain.getBoundingRect(titleText, textContain.makeFont(hoverStyle));\n        var offsetX = icon.position[0] + group.position[0];\n        var offsetY = icon.position[1] + group.position[1] + itemSize;\n        var needPutOnTop = false;\n\n        if (offsetY + rect.height > api.getHeight()) {\n          hoverStyle.textPosition = 'top';\n          needPutOnTop = true;\n        }\n\n        var topOffset = needPutOnTop ? -5 - rect.height : itemSize + 8;\n\n        if (offsetX + rect.width / 2 > api.getWidth()) {\n          hoverStyle.textPosition = ['100%', topOffset];\n          hoverStyle.textAlign = 'right';\n        } else if (offsetX - rect.width / 2 < 0) {\n          hoverStyle.textPosition = [0, topOffset];\n          hoverStyle.textAlign = 'left';\n        }\n      }\n    });\n  },\n  updateView: function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature.updateView && feature.updateView(feature.model, ecModel, api, payload);\n    });\n  },\n  // updateLayout: function (toolboxModel, ecModel, api, payload) {\n  //     zrUtil.each(this._features, function (feature) {\n  //         feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);\n  //     });\n  // },\n  remove: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.remove && feature.remove(ecModel, api);\n    });\n    this.group.removeAll();\n  },\n  dispose: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.dispose && feature.dispose(ecModel, api);\n    });\n  }\n});\n\nfunction isUserFeatureName(featureName) {\n  return featureName.indexOf('my') === 0;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./dataZoom/typeDefaulter\");\n\nrequire(\"./dataZoom/DataZoomModel\");\n\nrequire(\"./dataZoom/DataZoomView\");\n\nrequire(\"./dataZoom/SelectZoomModel\");\n\nrequire(\"./dataZoom/SelectZoomView\");\n\nrequire(\"./dataZoom/dataZoomProcessor\");\n\nrequire(\"./dataZoom/dataZoomAction\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../../echarts\");\n\nvar history = require(\"../../dataZoom/history\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar restoreLang = lang.toolbox.restore;\n\nfunction Restore(model) {\n  this.model = model;\n}\n\nRestore.defaultOption = {\n  show: true,\n\n  /* eslint-disable */\n  icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5',\n\n  /* eslint-enable */\n  title: restoreLang.title\n};\nvar proto = Restore.prototype;\n\nproto.onclick = function (ecModel, api, type) {\n  history.clear(ecModel);\n  api.dispatchAction({\n    type: 'restore',\n    from: this.uid\n  });\n};\n\nfeatureManager.register('restore', Restore);\necharts.registerAction({\n  type: 'restore',\n  event: 'restore',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.resetOption('recreate');\n});\nvar _default = Restore;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _labelHelper = require(\"../helper/labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction setLabel(normalStyle, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside) {\n  var labelModel = itemModel.getModel('label');\n  var hoverLabelModel = itemModel.getModel('emphasis.label');\n  graphic.setLabelStyle(normalStyle, hoverStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: dataIndex,\n    defaultText: getDefaultLabel(seriesModel.getData(), dataIndex),\n    isRectText: true,\n    autoColor: color\n  });\n  fixPosition(normalStyle);\n  fixPosition(hoverStyle);\n}\n\nfunction fixPosition(style, labelPositionOutside) {\n  if (style.textPosition === 'outside') {\n    style.textPosition = labelPositionOutside;\n  }\n}\n\nexports.setLabel = setLabel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param {number} delta Move length.\n * @param {Array.<number>} handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param {Array.<number>} extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param {number|string} handleIndex Can be 'all', means that both move the two handleEnds.\n * @param {number} [minSpan] The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param {number} [maxSpan] The range of dataZoom can not be larger than that.\n * @return {Array.<number>} The input handleEnds.\n */\nfunction _default(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0]; // Notice maxSpan and minSpan can be null/undefined.\n\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n\n  if (handleIndex === 'all') {\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\n    handleIndex = 0;\n  }\n\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta; // Restrict in extent.\n\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent); // Expand span.\n\n  var currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbidden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  } // Shrink span.\n\n\n  var currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n\n  return handleEnds;\n}\n\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex]; // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\n\nfunction restrict(value, extend) {\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar _cursorHelper = require(\"./cursorHelper\");\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar graphicUtil = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction makeRectPanelClipPath(rect) {\n  rect = normalizeRect(rect);\n  return function (localPoints, transform) {\n    return graphicUtil.clipPointsByRect(localPoints, rect);\n  };\n}\n\nfunction makeLinearBrushOtherExtent(rect, specifiedXYIndex) {\n  rect = normalizeRect(rect);\n  return function (xyIndex) {\n    var idx = specifiedXYIndex != null ? specifiedXYIndex : xyIndex;\n    var brushWidth = idx ? rect.width : rect.height;\n    var base = idx ? rect.x : rect.y;\n    return [base, base + (brushWidth || 0)];\n  };\n}\n\nfunction makeRectIsTargetByCursor(rect, api, targetModel) {\n  rect = normalizeRect(rect);\n  return function (e, localCursorPoint, transform) {\n    return rect.contain(localCursorPoint[0], localCursorPoint[1]) && !onIrrelevantElement(e, api, targetModel);\n  };\n} // Consider width/height is negative.\n\n\nfunction normalizeRect(rect) {\n  return BoundingRect.create(rect);\n}\n\nexports.makeRectPanelClipPath = makeRectPanelClipPath;\nexports.makeLinearBrushOtherExtent = makeLinearBrushOtherExtent;\nexports.makeRectIsTargetByCursor = makeRectIsTargetByCursor;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Eventful = require(\"zrender/lib/mixin/Eventful\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar interactionMutex = require(\"./interactionMutex\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar map = zrUtil.map;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathPow = Math.pow;\nvar COVER_Z = 10000;\nvar UNSELECT_THRESHOLD = 6;\nvar MIN_RESIZE_LINE_WIDTH = 6;\nvar MUTEX_RESOURCE_KEY = 'globalPan';\nvar DIRECTION_MAP = {\n  w: [0, 0],\n  e: [0, 1],\n  n: [1, 0],\n  s: [1, 1]\n};\nvar CURSOR_MAP = {\n  w: 'ew',\n  e: 'ew',\n  n: 'ns',\n  s: 'ns',\n  ne: 'nesw',\n  sw: 'nesw',\n  nw: 'nwse',\n  se: 'nwse'\n};\nvar DEFAULT_BRUSH_OPT = {\n  brushStyle: {\n    lineWidth: 2,\n    stroke: 'rgba(0,0,0,0.3)',\n    fill: 'rgba(0,0,0,0.1)'\n  },\n  transformable: true,\n  brushMode: 'single',\n  removeOnClick: false\n};\nvar baseUID = 0;\n/**\n * @alias module:echarts/component/helper/BrushController\n * @constructor\n * @mixin {module:zrender/mixin/Eventful}\n * @event module:echarts/component/helper/BrushController#brush\n *        params:\n *            areas: Array.<Array>, coord relates to container group,\n *                                    If no container specified, to global.\n *            opt {\n *                isEnd: boolean,\n *                removeOnClick: boolean\n *            }\n *\n * @param {module:zrender/zrender~ZRender} zr\n */\n\nfunction BrushController(zr) {\n  Eventful.call(this);\n  /**\n   * @type {module:zrender/zrender~ZRender}\n   * @private\n   */\n\n  this._zr = zr;\n  /**\n   * @type {module:zrender/container/Group}\n   * @readOnly\n   */\n\n  this.group = new graphic.Group();\n  /**\n   * Only for drawing (after enabledBrush).\n   *     'line', 'rect', 'polygon' or false\n   *     If passing false/null/undefined, disable brush.\n   *     If passing 'auto', determined by panel.defaultBrushType\n   * @private\n   * @type {string}\n   */\n\n  this._brushType;\n  /**\n   * Only for drawing (after enabledBrush).\n   *\n   * @private\n   * @type {Object}\n   */\n\n  this._brushOption;\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._panels;\n  /**\n   * @private\n   * @type {Array.<nubmer>}\n   */\n\n  this._track = [];\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._dragging;\n  /**\n   * @private\n   * @type {Array}\n   */\n\n  this._covers = [];\n  /**\n   * @private\n   * @type {moudule:zrender/container/Group}\n   */\n\n  this._creatingCover;\n  /**\n   * `true` means global panel\n   * @private\n   * @type {module:zrender/container/Group|boolean}\n   */\n\n  this._creatingPanel;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._enableGlobalPan;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this._uid = 'brushController_' + baseUID++;\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._handlers = {};\n  each(pointerHandlers, function (handler, eventName) {\n    this._handlers[eventName] = zrUtil.bind(handler, this);\n  }, this);\n}\n\nBrushController.prototype = {\n  constructor: BrushController,\n\n  /**\n   * If set to null/undefined/false, select disabled.\n   * @param {Object} brushOption\n   * @param {string|boolean} brushOption.brushType 'line', 'rect', 'polygon' or false\n   *                          If passing false/null/undefined, disable brush.\n   *                          If passing 'auto', determined by panel.defaultBrushType.\n   *                              ('auto' can not be used in global panel)\n   * @param {number} [brushOption.brushMode='single'] 'single' or 'multiple'\n   * @param {boolean} [brushOption.transformable=true]\n   * @param {boolean} [brushOption.removeOnClick=false]\n   * @param {Object} [brushOption.brushStyle]\n   * @param {number} [brushOption.brushStyle.width]\n   * @param {number} [brushOption.brushStyle.lineWidth]\n   * @param {string} [brushOption.brushStyle.stroke]\n   * @param {string} [brushOption.brushStyle.fill]\n   * @param {number} [brushOption.z]\n   */\n  enableBrush: function (brushOption) {\n    this._brushType && doDisableBrush(this);\n    brushOption.brushType && doEnableBrush(this, brushOption);\n    return this;\n  },\n\n  /**\n   * @param {Array.<Object>} panelOpts If not pass, it is global brush.\n   *        Each items: {\n   *            panelId, // mandatory.\n   *            clipPath, // mandatory. function.\n   *            isTargetByCursor, // mandatory. function.\n   *            defaultBrushType, // optional, only used when brushType is 'auto'.\n   *            getLinearBrushOtherExtent, // optional. function.\n   *        }\n   */\n  setPanels: function (panelOpts) {\n    if (panelOpts && panelOpts.length) {\n      var panels = this._panels = {};\n      zrUtil.each(panelOpts, function (panelOpts) {\n        panels[panelOpts.panelId] = zrUtil.clone(panelOpts);\n      });\n    } else {\n      this._panels = null;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param {Object} [opt]\n   * @return {boolean} [opt.enableGlobalPan=false]\n   */\n  mount: function (opt) {\n    opt = opt || {};\n    this._enableGlobalPan = opt.enableGlobalPan;\n    var thisGroup = this.group;\n\n    this._zr.add(thisGroup);\n\n    thisGroup.attr({\n      position: opt.position || [0, 0],\n      rotation: opt.rotation || 0,\n      scale: opt.scale || [1, 1]\n    });\n    this._transform = thisGroup.getLocalTransform();\n    return this;\n  },\n  eachCover: function (cb, context) {\n    each(this._covers, cb, context);\n  },\n\n  /**\n   * Update covers.\n   * @param {Array.<Object>} brushOptionList Like:\n   *        [\n   *            {id: 'xx', brushType: 'line', range: [23, 44], brushStyle, transformable},\n   *            {id: 'yy', brushType: 'rect', range: [[23, 44], [23, 54]]},\n   *            ...\n   *        ]\n   *        `brushType` is required in each cover info. (can not be 'auto')\n   *        `id` is not mandatory.\n   *        `brushStyle`, `transformable` is not mandatory, use DEFAULT_BRUSH_OPT by default.\n   *        If brushOptionList is null/undefined, all covers removed.\n   */\n  updateCovers: function (brushOptionList) {\n    brushOptionList = zrUtil.map(brushOptionList, function (brushOption) {\n      return zrUtil.merge(zrUtil.clone(DEFAULT_BRUSH_OPT), brushOption, true);\n    });\n    var tmpIdPrefix = '\\0-brush-index-';\n    var oldCovers = this._covers;\n    var newCovers = this._covers = [];\n    var controller = this;\n    var creatingCover = this._creatingCover;\n    new DataDiffer(oldCovers, brushOptionList, oldGetKey, getKey).add(addOrUpdate).update(addOrUpdate).remove(remove).execute();\n    return this;\n\n    function getKey(brushOption, index) {\n      return (brushOption.id != null ? brushOption.id : tmpIdPrefix + index) + '-' + brushOption.brushType;\n    }\n\n    function oldGetKey(cover, index) {\n      return getKey(cover.__brushOption, index);\n    }\n\n    function addOrUpdate(newIndex, oldIndex) {\n      var newBrushOption = brushOptionList[newIndex]; // Consider setOption in event listener of brushSelect,\n      // where updating cover when creating should be forbiden.\n\n      if (oldIndex != null && oldCovers[oldIndex] === creatingCover) {\n        newCovers[newIndex] = oldCovers[oldIndex];\n      } else {\n        var cover = newCovers[newIndex] = oldIndex != null ? (oldCovers[oldIndex].__brushOption = newBrushOption, oldCovers[oldIndex]) : endCreating(controller, createCover(controller, newBrushOption));\n        updateCoverAfterCreation(controller, cover);\n      }\n    }\n\n    function remove(oldIndex) {\n      if (oldCovers[oldIndex] !== creatingCover) {\n        controller.group.remove(oldCovers[oldIndex]);\n      }\n    }\n  },\n  unmount: function () {\n    this.enableBrush(false); // container may 'removeAll' outside.\n\n    clearCovers(this);\n\n    this._zr.remove(this.group);\n\n    return this;\n  },\n  dispose: function () {\n    this.unmount();\n    this.off();\n  }\n};\nzrUtil.mixin(BrushController, Eventful);\n\nfunction doEnableBrush(controller, brushOption) {\n  var zr = controller._zr; // Consider roam, which takes globalPan too.\n\n  if (!controller._enableGlobalPan) {\n    interactionMutex.take(zr, MUTEX_RESOURCE_KEY, controller._uid);\n  }\n\n  mountHandlers(zr, controller._handlers);\n  controller._brushType = brushOption.brushType;\n  controller._brushOption = zrUtil.merge(zrUtil.clone(DEFAULT_BRUSH_OPT), brushOption, true);\n}\n\nfunction doDisableBrush(controller) {\n  var zr = controller._zr;\n  interactionMutex.release(zr, MUTEX_RESOURCE_KEY, controller._uid);\n  unmountHandlers(zr, controller._handlers);\n  controller._brushType = controller._brushOption = null;\n}\n\nfunction mountHandlers(zr, handlers) {\n  each(handlers, function (handler, eventName) {\n    zr.on(eventName, handler);\n  });\n}\n\nfunction unmountHandlers(zr, handlers) {\n  each(handlers, function (handler, eventName) {\n    zr.off(eventName, handler);\n  });\n}\n\nfunction createCover(controller, brushOption) {\n  var cover = coverRenderers[brushOption.brushType].createCover(controller, brushOption);\n  cover.__brushOption = brushOption;\n  updateZ(cover, brushOption);\n  controller.group.add(cover);\n  return cover;\n}\n\nfunction endCreating(controller, creatingCover) {\n  var coverRenderer = getCoverRenderer(creatingCover);\n\n  if (coverRenderer.endCreating) {\n    coverRenderer.endCreating(controller, creatingCover);\n    updateZ(creatingCover, creatingCover.__brushOption);\n  }\n\n  return creatingCover;\n}\n\nfunction updateCoverShape(controller, cover) {\n  var brushOption = cover.__brushOption;\n  getCoverRenderer(cover).updateCoverShape(controller, cover, brushOption.range, brushOption);\n}\n\nfunction updateZ(cover, brushOption) {\n  var z = brushOption.z;\n  z == null && (z = COVER_Z);\n  cover.traverse(function (el) {\n    el.z = z;\n    el.z2 = z; // Consider in given container.\n  });\n}\n\nfunction updateCoverAfterCreation(controller, cover) {\n  getCoverRenderer(cover).updateCommon(controller, cover);\n  updateCoverShape(controller, cover);\n}\n\nfunction getCoverRenderer(cover) {\n  return coverRenderers[cover.__brushOption.brushType];\n} // return target panel or `true` (means global panel)\n\n\nfunction getPanelByPoint(controller, e, localCursorPoint) {\n  var panels = controller._panels;\n\n  if (!panels) {\n    return true; // Global panel\n  }\n\n  var panel;\n  var transform = controller._transform;\n  each(panels, function (pn) {\n    pn.isTargetByCursor(e, localCursorPoint, transform) && (panel = pn);\n  });\n  return panel;\n} // Return a panel or true\n\n\nfunction getPanelByCover(controller, cover) {\n  var panels = controller._panels;\n\n  if (!panels) {\n    return true; // Global panel\n  }\n\n  var panelId = cover.__brushOption.panelId; // User may give cover without coord sys info,\n  // which is then treated as global panel.\n\n  return panelId != null ? panels[panelId] : true;\n}\n\nfunction clearCovers(controller) {\n  var covers = controller._covers;\n  var originalLength = covers.length;\n  each(covers, function (cover) {\n    controller.group.remove(cover);\n  }, controller);\n  covers.length = 0;\n  return !!originalLength;\n}\n\nfunction trigger(controller, opt) {\n  var areas = map(controller._covers, function (cover) {\n    var brushOption = cover.__brushOption;\n    var range = zrUtil.clone(brushOption.range);\n    return {\n      brushType: brushOption.brushType,\n      panelId: brushOption.panelId,\n      range: range\n    };\n  });\n  controller.trigger('brush', areas, {\n    isEnd: !!opt.isEnd,\n    removeOnClick: !!opt.removeOnClick\n  });\n}\n\nfunction shouldShowCover(controller) {\n  var track = controller._track;\n\n  if (!track.length) {\n    return false;\n  }\n\n  var p2 = track[track.length - 1];\n  var p1 = track[0];\n  var dx = p2[0] - p1[0];\n  var dy = p2[1] - p1[1];\n  var dist = mathPow(dx * dx + dy * dy, 0.5);\n  return dist > UNSELECT_THRESHOLD;\n}\n\nfunction getTrackEnds(track) {\n  var tail = track.length - 1;\n  tail < 0 && (tail = 0);\n  return [track[0], track[tail]];\n}\n\nfunction createBaseRectCover(doDrift, controller, brushOption, edgeNames) {\n  var cover = new graphic.Group();\n  cover.add(new graphic.Rect({\n    name: 'main',\n    style: makeStyle(brushOption),\n    silent: true,\n    draggable: true,\n    cursor: 'move',\n    drift: curry(doDrift, controller, cover, 'nswe'),\n    ondragend: curry(trigger, controller, {\n      isEnd: true\n    })\n  }));\n  each(edgeNames, function (name) {\n    cover.add(new graphic.Rect({\n      name: name,\n      style: {\n        opacity: 0\n      },\n      draggable: true,\n      silent: true,\n      invisible: true,\n      drift: curry(doDrift, controller, cover, name),\n      ondragend: curry(trigger, controller, {\n        isEnd: true\n      })\n    }));\n  });\n  return cover;\n}\n\nfunction updateBaseRect(controller, cover, localRange, brushOption) {\n  var lineWidth = brushOption.brushStyle.lineWidth || 0;\n  var handleSize = mathMax(lineWidth, MIN_RESIZE_LINE_WIDTH);\n  var x = localRange[0][0];\n  var y = localRange[1][0];\n  var xa = x - lineWidth / 2;\n  var ya = y - lineWidth / 2;\n  var x2 = localRange[0][1];\n  var y2 = localRange[1][1];\n  var x2a = x2 - handleSize + lineWidth / 2;\n  var y2a = y2 - handleSize + lineWidth / 2;\n  var width = x2 - x;\n  var height = y2 - y;\n  var widtha = width + lineWidth;\n  var heighta = height + lineWidth;\n  updateRectShape(controller, cover, 'main', x, y, width, height);\n\n  if (brushOption.transformable) {\n    updateRectShape(controller, cover, 'w', xa, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'e', x2a, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'n', xa, ya, widtha, handleSize);\n    updateRectShape(controller, cover, 's', xa, y2a, widtha, handleSize);\n    updateRectShape(controller, cover, 'nw', xa, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'ne', x2a, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'sw', xa, y2a, handleSize, handleSize);\n    updateRectShape(controller, cover, 'se', x2a, y2a, handleSize, handleSize);\n  }\n}\n\nfunction updateCommon(controller, cover) {\n  var brushOption = cover.__brushOption;\n  var transformable = brushOption.transformable;\n  var mainEl = cover.childAt(0);\n  mainEl.useStyle(makeStyle(brushOption));\n  mainEl.attr({\n    silent: !transformable,\n    cursor: transformable ? 'move' : 'default'\n  });\n  each(['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw'], function (name) {\n    var el = cover.childOfName(name);\n    var globalDir = getGlobalDirection(controller, name);\n    el && el.attr({\n      silent: !transformable,\n      invisible: !transformable,\n      cursor: transformable ? CURSOR_MAP[globalDir] + '-resize' : null\n    });\n  });\n}\n\nfunction updateRectShape(controller, cover, name, x, y, w, h) {\n  var el = cover.childOfName(name);\n  el && el.setShape(pointsToRect(clipByPanel(controller, cover, [[x, y], [x + w, y + h]])));\n}\n\nfunction makeStyle(brushOption) {\n  return zrUtil.defaults({\n    strokeNoScale: true\n  }, brushOption.brushStyle);\n}\n\nfunction formatRectRange(x, y, x2, y2) {\n  var min = [mathMin(x, x2), mathMin(y, y2)];\n  var max = [mathMax(x, x2), mathMax(y, y2)];\n  return [[min[0], max[0]], // x range\n  [min[1], max[1]] // y range\n  ];\n}\n\nfunction getTransform(controller) {\n  return graphic.getTransform(controller.group);\n}\n\nfunction getGlobalDirection(controller, localDirection) {\n  if (localDirection.length > 1) {\n    localDirection = localDirection.split('');\n    var globalDir = [getGlobalDirection(controller, localDirection[0]), getGlobalDirection(controller, localDirection[1])];\n    (globalDir[0] === 'e' || globalDir[0] === 'w') && globalDir.reverse();\n    return globalDir.join('');\n  } else {\n    var map = {\n      w: 'left',\n      e: 'right',\n      n: 'top',\n      s: 'bottom'\n    };\n    var inverseMap = {\n      left: 'w',\n      right: 'e',\n      top: 'n',\n      bottom: 's'\n    };\n    var globalDir = graphic.transformDirection(map[localDirection], getTransform(controller));\n    return inverseMap[globalDir];\n  }\n}\n\nfunction driftRect(toRectRange, fromRectRange, controller, cover, name, dx, dy, e) {\n  var brushOption = cover.__brushOption;\n  var rectRange = toRectRange(brushOption.range);\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(name.split(''), function (namePart) {\n    var ind = DIRECTION_MAP[namePart];\n    rectRange[ind[0]][ind[1]] += localDelta[ind[0]];\n  });\n  brushOption.range = fromRectRange(formatRectRange(rectRange[0][0], rectRange[1][0], rectRange[0][1], rectRange[1][1]));\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\n\nfunction driftPolygon(controller, cover, dx, dy, e) {\n  var range = cover.__brushOption.range;\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(range, function (point) {\n    point[0] += localDelta[0];\n    point[1] += localDelta[1];\n  });\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\n\nfunction toLocalDelta(controller, dx, dy) {\n  var thisGroup = controller.group;\n  var localD = thisGroup.transformCoordToLocal(dx, dy);\n  var localZero = thisGroup.transformCoordToLocal(0, 0);\n  return [localD[0] - localZero[0], localD[1] - localZero[1]];\n}\n\nfunction clipByPanel(controller, cover, data) {\n  var panel = getPanelByCover(controller, cover);\n  return panel && panel !== true ? panel.clipPath(data, controller._transform) : zrUtil.clone(data);\n}\n\nfunction pointsToRect(points) {\n  var xmin = mathMin(points[0][0], points[1][0]);\n  var ymin = mathMin(points[0][1], points[1][1]);\n  var xmax = mathMax(points[0][0], points[1][0]);\n  var ymax = mathMax(points[0][1], points[1][1]);\n  return {\n    x: xmin,\n    y: ymin,\n    width: xmax - xmin,\n    height: ymax - ymin\n  };\n}\n\nfunction resetCursor(controller, e, localCursorPoint) {\n  if ( // Check active\n  !controller._brushType // resetCursor should be always called when mouse is in zr area,\n  // but not called when mouse is out of zr area to avoid bad influence\n  // if `mousemove`, `mouseup` are triggered from `document` event.\n  || isOutsideZrArea(controller, e)) {\n    return;\n  }\n\n  var zr = controller._zr;\n  var covers = controller._covers;\n  var currPanel = getPanelByPoint(controller, e, localCursorPoint); // Check whether in covers.\n\n  if (!controller._dragging) {\n    for (var i = 0; i < covers.length; i++) {\n      var brushOption = covers[i].__brushOption;\n\n      if (currPanel && (currPanel === true || brushOption.panelId === currPanel.panelId) && coverRenderers[brushOption.brushType].contain(covers[i], localCursorPoint[0], localCursorPoint[1])) {\n        // Use cursor style set on cover.\n        return;\n      }\n    }\n  }\n\n  currPanel && zr.setCursorStyle('crosshair');\n}\n\nfunction preventDefault(e) {\n  var rawE = e.event;\n  rawE.preventDefault && rawE.preventDefault();\n}\n\nfunction mainShapeContain(cover, x, y) {\n  return cover.childOfName('main').contain(x, y);\n}\n\nfunction updateCoverByMouse(controller, e, localCursorPoint, isEnd) {\n  var creatingCover = controller._creatingCover;\n  var panel = controller._creatingPanel;\n  var thisBrushOption = controller._brushOption;\n  var eventParams;\n\n  controller._track.push(localCursorPoint.slice());\n\n  if (shouldShowCover(controller) || creatingCover) {\n    if (panel && !creatingCover) {\n      thisBrushOption.brushMode === 'single' && clearCovers(controller);\n      var brushOption = zrUtil.clone(thisBrushOption);\n      brushOption.brushType = determineBrushType(brushOption.brushType, panel);\n      brushOption.panelId = panel === true ? null : panel.panelId;\n      creatingCover = controller._creatingCover = createCover(controller, brushOption);\n\n      controller._covers.push(creatingCover);\n    }\n\n    if (creatingCover) {\n      var coverRenderer = coverRenderers[determineBrushType(controller._brushType, panel)];\n      var coverBrushOption = creatingCover.__brushOption;\n      coverBrushOption.range = coverRenderer.getCreatingRange(clipByPanel(controller, creatingCover, controller._track));\n\n      if (isEnd) {\n        endCreating(controller, creatingCover);\n        coverRenderer.updateCommon(controller, creatingCover);\n      }\n\n      updateCoverShape(controller, creatingCover);\n      eventParams = {\n        isEnd: isEnd\n      };\n    }\n  } else if (isEnd && thisBrushOption.brushMode === 'single' && thisBrushOption.removeOnClick) {\n    // Help user to remove covers easily, only by a tiny drag, in 'single' mode.\n    // But a single click do not clear covers, because user may have casual\n    // clicks (for example, click on other component and do not expect covers\n    // disappear).\n    // Only some cover removed, trigger action, but not every click trigger action.\n    if (getPanelByPoint(controller, e, localCursorPoint) && clearCovers(controller)) {\n      eventParams = {\n        isEnd: isEnd,\n        removeOnClick: true\n      };\n    }\n  }\n\n  return eventParams;\n}\n\nfunction determineBrushType(brushType, panel) {\n  if (brushType === 'auto') {\n    return panel.defaultBrushType;\n  }\n\n  return brushType;\n}\n\nvar pointerHandlers = {\n  mousedown: function (e) {\n    if (this._dragging) {\n      // In case some browser do not support globalOut,\n      // and release mose out side the browser.\n      handleDragEnd(this, e);\n    } else if (!e.target || !e.target.draggable) {\n      preventDefault(e);\n      var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n      this._creatingCover = null;\n      var panel = this._creatingPanel = getPanelByPoint(this, e, localCursorPoint);\n\n      if (panel) {\n        this._dragging = true;\n        this._track = [localCursorPoint.slice()];\n      }\n    }\n  },\n  mousemove: function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var localCursorPoint = this.group.transformCoordToLocal(x, y);\n    resetCursor(this, e, localCursorPoint);\n\n    if (this._dragging) {\n      preventDefault(e);\n      var eventParams = updateCoverByMouse(this, e, localCursorPoint, false);\n      eventParams && trigger(this, eventParams);\n    }\n  },\n  mouseup: function (e) {\n    handleDragEnd(this, e);\n  }\n};\n\nfunction handleDragEnd(controller, e) {\n  if (controller._dragging) {\n    preventDefault(e);\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var localCursorPoint = controller.group.transformCoordToLocal(x, y);\n    var eventParams = updateCoverByMouse(controller, e, localCursorPoint, true);\n    controller._dragging = false;\n    controller._track = [];\n    controller._creatingCover = null; // trigger event shoule be at final, after procedure will be nested.\n\n    eventParams && trigger(controller, eventParams);\n  }\n}\n\nfunction isOutsideZrArea(controller, x, y) {\n  var zr = controller._zr;\n  return x < 0 || x > zr.getWidth() || y < 0 || y > zr.getHeight();\n}\n/**\n * key: brushType\n * @type {Object}\n */\n\n\nvar coverRenderers = {\n  lineX: getLineRenderer(0),\n  lineY: getLineRenderer(1),\n  rect: {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover(curry(driftRect, function (range) {\n        return range;\n      }, function (range) {\n        return range;\n      }), controller, brushOption, ['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw']);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      return formatRectRange(ends[1][0], ends[1][1], ends[0][0], ends[0][1]);\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      updateBaseRect(controller, cover, localRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  },\n  polygon: {\n    createCover: function (controller, brushOption) {\n      var cover = new graphic.Group(); // Do not use graphic.Polygon because graphic.Polyline do not close the\n      // border of the shape when drawing, which is a better experience for user.\n\n      cover.add(new graphic.Polyline({\n        name: 'main',\n        style: makeStyle(brushOption),\n        silent: true\n      }));\n      return cover;\n    },\n    getCreatingRange: function (localTrack) {\n      return localTrack;\n    },\n    endCreating: function (controller, cover) {\n      cover.remove(cover.childAt(0)); // Use graphic.Polygon close the shape.\n\n      cover.add(new graphic.Polygon({\n        name: 'main',\n        draggable: true,\n        drift: curry(driftPolygon, controller, cover),\n        ondragend: curry(trigger, controller, {\n          isEnd: true\n        })\n      }));\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      cover.childAt(0).setShape({\n        points: clipByPanel(controller, cover, localRange)\n      });\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  }\n};\n\nfunction getLineRenderer(xyIndex) {\n  return {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover(curry(driftRect, function (range) {\n        var rectRange = [range, [0, 100]];\n        xyIndex && rectRange.reverse();\n        return rectRange;\n      }, function (rectRange) {\n        return rectRange[xyIndex];\n      }), controller, brushOption, [['w', 'e'], ['n', 's']][xyIndex]);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      var min = mathMin(ends[0][xyIndex], ends[1][xyIndex]);\n      var max = mathMax(ends[0][xyIndex], ends[1][xyIndex]);\n      return [min, max];\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      var otherExtent; // If brushWidth not specified, fit the panel.\n\n      var panel = getPanelByCover(controller, cover);\n\n      if (panel !== true && panel.getLinearBrushOtherExtent) {\n        otherExtent = panel.getLinearBrushOtherExtent(xyIndex, controller._transform);\n      } else {\n        var zr = controller._zr;\n        otherExtent = [0, [zr.getWidth(), zr.getHeight()][1 - xyIndex]];\n      }\n\n      var rectRange = [localRange, otherExtent];\n      xyIndex && rectRange.reverse();\n      updateBaseRect(controller, cover, rectRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  };\n}\n\nvar _default = BrushController;\nmodule.exports = _default;"],"sourceRoot":""}